(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[22],{475:function(e,a,t){},479:function(e,a,t){"use strict";t.d(a,"d",(function(){return p})),t.d(a,"e",(function(){return m})),t.d(a,"f",(function(){return h})),t.d(a,"c",(function(){return g})),t.d(a,"b",(function(){return b})),t.d(a,"a",(function(){return v})),t.d(a,"g",(function(){return f}));var n=t(36),r=t.n(n),o=t(55),l=t(485),s=t(31),i=t.n(s),c=t(471),d=t(32);i.a.defaults.baseURL="https://lastarzi2.herokuapp.com";var u=function(e){var a,t=Object(l.a)(null===e||void 0===e?void 0:e.data);try{for(t.s();!(a=t.n()).done;){var n=a.value;(null===n||void 0===n?void 0:n.spendId)&&(n.spendId=Object(d.a)(null===n||void 0===n?void 0:n.spendId)),(null===n||void 0===n?void 0:n.item)&&(n.item=Object(d.a)(null===n||void 0===n?void 0:n.item)),(null===n||void 0===n?void 0:n.label)&&(n.label=Object(d.a)(null===n||void 0===n?void 0:n.label)),(null===n||void 0===n?void 0:n.amount)&&(n.amount=Object(d.a)(null===n||void 0===n?void 0:n.amount)),(null===n||void 0===n?void 0:n.desc)&&(n.desc=Object(d.a)(null===n||void 0===n?void 0:n.desc))}}catch(r){t.e(r)}finally{t.f()}return e},p=function(e){return function(){var a=Object(o.a)(r.a.mark((function a(t){var n;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=localStorage.getItem("logInUserData")?JSON.parse(localStorage.getItem("logInUserData")):{},a.next=3,i.a.get("/backendapi/nominee/list/"+n._id,{params:e,headers:{Authorization:"Bearer "+localStorage.getItem("authtoken")}}).then((function(a){t({type:"GET_ALL_DATA_LOADING",data:!1});var n,r=Object(l.a)(null===a||void 0===a?void 0:a.data);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.nomineeId=(null===o||void 0===o?void 0:o.nomineeId)&&Object(d.a)(o.nomineeId,!0),o.name=(null===o||void 0===o?void 0:o.name)&&Object(d.a)(o.name,!0),o.relation=(null===o||void 0===o?void 0:o.relation)&&Object(d.a)(o.relation,!0),o.email=(null===o||void 0===o?void 0:o.email)&&Object(d.a)(o.email,!0),o.primaryContact=(null===o||void 0===o?void 0:o.primaryContact)&&Object(d.a)(o.primaryContact,!0),o.secondaryContact=(null===o||void 0===o?void 0:o.secondaryContact)&&Object(d.a)(o.secondaryContact,!0),o.address=(null===o||void 0===o?void 0:o.address)&&Object(d.a)(o.address,!0)}}catch(s){r.e(s)}finally{r.f()}t({type:"GET_DATA",data:a.data,totalPages:a.length,params:e})}));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},m=function(e){return function(){var a=Object(o.a)(r.a.mark((function a(t){var n;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=localStorage.getItem("logInUserData")?JSON.parse(localStorage.getItem("logInUserData")):{},a.next=3,i.a.get("/backendapi/spend/list/"+n._id,{params:e,headers:{Authorization:"Bearer "+localStorage.getItem("authtoken")}}).then((function(a){var n;console.log("getSpendData"),t({type:"GET_DATA",data:null===(n=u(a))||void 0===n?void 0:n.data,totalPages:a.length,params:e})}));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},h=function(){var e=localStorage.getItem("logInUserData")?JSON.parse(localStorage.getItem("logInUserData")):{};return function(){var a=Object(o.a)(r.a.mark((function a(t){return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,i.a.get("/backendapi/spend/list/"+e._id,{headers:{Authorization:"Bearer "+localStorage.getItem("authtoken")}}).then((function(e){var a;t({type:"GET_ALL_DATA",data:null===(a=u(e))||void 0===a?void 0:a.data})}));case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},g=function(e){return function(a){return a({type:"FILTER_DATA",value:e})}},b=function(e){return function(a){console.log("DELETE DATA :"),i.a.post("/backendapi/nominee/delete",e,{headers:{Authorization:"Bearer "+localStorage.getItem("authtoken")}}).then((function(t){a({type:"DELETE_DATA",obj:e})}))}},v=function(e){var a={userId:(localStorage.getItem("logInUserData")?JSON.parse(localStorage.getItem("logInUserData")):{})._id,name:Object(d.b)(e.name,!0),relation:Object(d.b)(e.relation,!0),email:Object(d.b)(e.email,!0),primaryContact:Object(d.b)(e.contact1,!0),secondaryContact:Object(d.b)(e.contact2,!0),address:Object(d.b)(e.address,!0),usage:"Unused"};return"others"===e.relation&&e.relation1&&(a.relation=Object(d.b)(e.relation1,!0)),function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("/backendapi/nominee/add",a,{headers:{Authorization:"Bearer "+localStorage.getItem("authtoken")}}).then((function(e){c.b.success("Nominee Added Successfully"),t(p())}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},f=function(e){var a=localStorage.getItem("logInUserData")?JSON.parse(localStorage.getItem("logInUserData")):{},t={_id:e._id,usage:e.usage?e.usage:"Unused",userId:a._id,name:Object(d.b)(e.name,!0),relation:Object(d.b)(e.relation1,!0),email:Object(d.b)(e.email,!0),primaryContact:Object(d.b)(e.contact1,!0),secondaryContact:Object(d.b)(e.contact2,!0),address:Object(d.b)(e.address,!0)};return function(){var e=Object(o.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("/backendapi/nominee/update",t,{headers:{Authorization:"Bearer "+localStorage.getItem("authtoken")}}).then((function(e){c.b.success("Nominee Added Successfully"),a(p())}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()}},480:function(e,a,t){},489:function(e,a,t){"use strict";var n=t(14),r=t(15),o=t(17),l=t(16),s=t(0),i=t.n(s),c=t(420),d=t(421),u=t(422),p=t(228),m=t(393),h=t(104),g=t.n(h),b=t(5),v=t.n(b),f=t(19),E=function(e){Object(o.a)(t,e);var a=Object(l.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=a.call.apply(a,[this].concat(o))).state={isLoading:e.props.isLoading,relation:"",relation1:"",email:"",address:"",contact1:"",contact2:"",id:"",name:"",errors:{relation:!1,email:!1,address:!1,contact1:!1,contact2:!1,name:!1}},e.addNew=!1,e.handleValidation=function(a){var t=e.state,n=t.relation,r=t.relation1,o=t.email,l=t.address,s=t.contact1,i=t.contact2,c=t.name,d=e.state.errors;switch(a){case"name":0===c.length&&""===c?(console.log(c.length,c),d.name=!0):(console.log(c.length,c),d.name=!1);break;case"email":""===o?d.email=!0:""!==o&&"undefined"!==typeof o&&(o.match(/^([A-Za-z0-9_\-.])+@([A-Za-z0-9_\-.])+\.([A-Za-z]{2,})$/)?d.email=!1:d.email=!0);break;case"address":d.address=!l;break;case"contact1":0===s.length?d.contact1=!0:0!==s.length&&"undefined"!==typeof s&&(10!==s.length?d.contact1=!0:d.contact1=!1);break;case"contact2":0===i.length?d.contact2=!0:0!==i.length&&"undefined"!==typeof i&&(10===i.length?d.contact2=!1:d.contact2=!0);break;case"relation":"others"===n&&0===r.length?d.relation=!0:d.relation=!1}e.setState({errors:d})},e.handleValue=function(a,t){switch(a){case"name":e.setState({name:t});break;case"email":e.setState({email:t});break;case"address":e.setState({address:t.replace(/[\n\r]/g,", ")});break;case"contact1":e.setState({contact1:t});break;case"contact2":e.setState({contact2:t});break;case"relation":e.setState({relation:t});break;case"relation1":e.setState({relation1:t})}},e.resetError=function(a){var t=e.state.errors;switch(a){case"name":t.name=!1;break;case"email":t.email=!1;break;case"address":t.address=!1;break;case"contact1":t.contact1=!1;break;case"contact2":t.contact2=!1;break;case"relation":t.relation=!1}e.setState({errors:t})},e.handleSubmit=function(a){var t=e.state,n=t.relation,r=t.relation1,o=t.email,l=t.address,s=t.contact1,i=t.contact2,c=t.name,d=e.state.errors;0===c.length&&""===c?(console.log(c.length,c),d.name=!0):(console.log(c.length,c),d.name=!1),""===o?d.email=!0:""!==o&&"undefined"!==typeof o&&(o.match(/^([A-Za-z0-9_\-.])+@([A-Za-z0-9_\-.])+\.([A-Za-z]{2,})$/)?d.email=!1:d.email=!0),d.address=!l,0===s.length?d.contact1=!0:0!==s.length&&"undefined"!==typeof s&&(10!==s.length?d.contact1=!0:d.contact1=!1),0===i.length?d.contact2=!0:0!==i.length&&"undefined"!==typeof i&&(10===i.length?d.contact2=!1:d.contact2=!0),"others"===n&&0===r.length?d.relation=!0:d.relation=!1,d.name||d.address||d.contact1||d.contact2||d.email||d.relation||(null!==e.props.data?(a._id=e.props.data._id,a.usage=e.props.data.usage,e.props.updateData(a)):(e.addNew=!0,e.props.addData(a))),e.setState({errors:d})},e.nullData=function(){e.setState({name:"",relation:"",relation1:"",email:"",address:"",contact1:"",contact2:""})},e}return Object(r.a)(t,[{key:"componentDidUpdate",value:function(e,a){null!==this.props.data&&null===e.data&&(this.props.data.id!==a.id&&this.setState({id:this.props.data.id}),this.props.data.name!==a.name&&this.setState({name:this.props.data.name}),this.props.data.relation!==a.relation&&this.setState({relation:this.props.data.relation}),this.props.data.relation!==a.relation1&&this.setState({relation1:this.props.data.relation}),this.props.data.address!==a.address&&this.setState({address:this.props.data.address}),this.props.data.email!==a.email&&this.setState({email:this.props.data.email}),this.props.data.primaryContact!==a.contact1&&this.setState({contact1:this.props.data.primaryContact}),this.props.data.secondaryContact!==a.contact2&&this.setState({contact2:this.props.data.secondaryContact})),null===this.props.data&&null!==e.data&&this.setState({id:"",name:"",relation:"",relation1:"",email:"",address:"",contact1:"",contact2:""}),this.addNew&&this.setState({id:"",name:"",relation:"",relation1:"",email:"",address:"",contact1:"",contact2:""}),this.addNew=!1}},{key:"render",value:function(){var e=this,a=this.state.errors,t=this.props,n=t.show,r=t.handleSidebar,o=t.data,l=this.state,s=l.name,h=l.relation,b=l.img;return i.a.createElement("div",{className:v()("data-list-sidebar",{show:n})},i.a.createElement("div",{className:"data-list-sidebar-header mt-2 px-2 d-flex justify-content-between"},i.a.createElement("h4",{style:{color:"var(--warning)"}},null!==o?"UPDATE NOMINEE":"ADD NEW NOMINEE"),i.a.createElement(m.a,{size:20,onClick:function(){r(!1,!0),e.nullData()}})),i.a.createElement(g.a,{className:"data-list-fields px-2 pt-2",options:{wheelPropagation:!1}},i.a.createElement(c.a,{className:"form-label-group mb-2"},i.a.createElement(d.a,{className:"input-label",type:"text",value:s,placeholder:"Nominee Name",onChange:function(a){e.handleValue("name",a.target.value),e.resetError("name")},onBlur:function(){return e.handleValidation("name")},id:"data-name",style:{borderColor:a.name?"red":""}}),i.a.createElement(u.a,{className:"dark"===f.a.theme?"dark-label":"light-label",for:"data-name"},"Name *")),i.a.createElement(c.a,null,i.a.createElement(d.a,{type:"select",id:"data-category",value:h,onChange:function(a){e.handleValue("relation",a.target.value)}},i.a.createElement("option",null,"Collegue"),i.a.createElement("option",null,"Cousin"),i.a.createElement("option",null,"Daughter"),i.a.createElement("option",null,"Daughter-in-law"),i.a.createElement("option",null,"Friend"),i.a.createElement("option",null,"Husband"),i.a.createElement("option",null,"Son"),i.a.createElement("option",null,"Son-in-law"),i.a.createElement("option",null,"Wife"),i.a.createElement("option",null,"others")),i.a.createElement(u.a,{className:"dark"===f.a.theme?"dark-label select-label":"light-label select-label",for:"data-category"},"Relation *")),"others"===h&&i.a.createElement(c.a,{className:"form-label-group mb-2"},i.a.createElement(d.a,{type:"text",value:this.state.relation1,placeholder:"Relation Name",onChange:function(a){e.handleValue("relation1",a.target.value),e.resetError("relation")},onBlur:function(){return e.handleValidation("relation")},id:"data-Relation",style:{borderColor:a.relation?"red":""}})),i.a.createElement(c.a,{className:"form-label-group mb-2"},i.a.createElement(d.a,{className:"input-label",type:"email",value:this.state.email,placeholder:"Enter nominee email",onChange:function(a){e.handleValue("email",a.target.value),e.resetError("email")},onBlur:function(){return e.handleValidation("email")},id:"data-email",style:{borderColor:a.email?"red":""}}),i.a.createElement(u.a,{className:"dark"===f.a.theme?"dark-label":"light-label",for:"data-email"},"Email *")),i.a.createElement(c.a,{className:"form-label-group mb-2"},i.a.createElement(d.a,{className:"input-label",type:"number",value:this.state.contact1,onChange:function(a){e.handleValue("contact1",a.target.value),e.resetError("contact1")},onBlur:function(){return e.handleValidation("contact1")},id:"data-price",placeholder:"Enter primary contact No",style:{borderColor:a.contact1?"red":""}}),i.a.createElement(u.a,{className:"dark"===f.a.theme?"dark-label":"light-label",for:"data-price"},"Contact No *")),i.a.createElement(c.a,{className:"form-label-group mb-2"},i.a.createElement(d.a,{className:"input-label",type:"number",value:this.state.contact2,onChange:function(a){e.handleValue("contact2",a.target.value),e.resetError("contact2")},onBlur:function(){return e.handleValidation("contact2")},id:"data-price",placeholder:"Enter secondry contact No",style:{borderColor:a.contact2?"red":""}}),i.a.createElement(u.a,{className:"dark"===f.a.theme?"dark-label":"light-label",for:"data-price"},"Secondary Contact No")),i.a.createElement(c.a,{className:"form-label-group mb-2"},i.a.createElement(d.a,{className:"input-label ",style:{height:"115px",borderColor:a.address?"red":""},type:"textarea",value:this.state.address,placeholder:"Address",onChange:function(a){e.handleValue("address",a.target.value),e.resetError("address")},onBlur:function(){return e.handleValidation("address")},id:"data-Address"}),i.a.createElement(u.a,{className:"dark"===f.a.theme?"dark-label":"light-label",for:"data-Address"},"Address *")),this.props.thumbView&&b.length<=0?i.a.createElement("label",{className:"btn btn-primary",htmlFor:"upload-image",color:"primary"},"Upload Image",i.a.createElement("input",{type:"file",id:"upload-image",hidden:!0,onChange:function(a){return e.setState({img:URL.createObjectURL(a.target.files[0])})}})):null),i.a.createElement("div",{className:"data-list-sidebar-footer px-2 d-flex justify-content-start align-items-center mt-1"},i.a.createElement(p.a.Ripple,{className:"button-label",color:"secondary",outline:!0,onClick:function(){e.nullData()}},"Reset"),i.a.createElement(p.a.Ripple,{color:"warning",type:"reset",className:"button-label",onClick:function(){return e.handleSubmit(e.state)}},null!==o?this.props.isLoading?"Updating...":"Update":this.props.isLoading?"Adding...":"Add")))}}]),t}(s.Component);a.a=E},501:function(e,a,t){"use strict";var n=t(6),r=t(8),o=t(0),l=t.n(o),s=t(1),i=t.n(s),c=t(5),d=t.n(c),u=t(2),p={tag:u.o,className:i.a.string,cssModule:i.a.object},m=function(e){var a=e.className,t=e.cssModule,o=e.tag,s=Object(r.a)(e,["className","cssModule","tag"]),i=Object(u.k)(d()(a,"modal-footer"),t);return l.a.createElement(o,Object(n.a)({},s,{className:i}))};m.propTypes=p,m.defaultProps={tag:"div"},a.a=m},539:function(e,a,t){"use strict";var n=t(14),r=t(15),o=t(17),l=t(16),s=t(0),i=t.n(s),c=t(393),d=function(e){Object(o.a)(t,e);var a=Object(l.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=a.call.apply(a,[this].concat(o))).closeChip=function(e){e.target.closest(".chip").remove()},e}return Object(r.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"chip ".concat(this.props.className," ").concat(this.props.color?"chip-".concat(this.props.color):null)},i.a.createElement("div",{className:"chip-body"},!this.props.avatarImg&&this.props.avatarText||!this.props.avatarImg&&this.props.avatarIcon?i.a.createElement("div",{className:"avatar ".concat(this.props.avatarColor?"bg-".concat(this.props.avatarColor):null)},i.a.createElement("div",{className:"avatar-content"},this.props.avatarText?this.props.avatarText:null,this.props.avatarIcon?this.props.avatarIcon:null)):this.props.avatarImg?i.a.createElement("div",{className:"avatar"},i.a.createElement("img",{src:this.props.avatarImg,alt:"chipImg",height:"20",width:"20"})):null,i.a.createElement("div",{className:"chip-text"},this.props.text),this.props.closable?i.a.createElement("div",{className:"chip-closable",onClick:function(a){return e.closeChip(a)}},this.props.closableIcon?this.props.closableIcon:i.a.createElement(c.a,null)):null))}}]),t}(i.a.Component);a.a=d},673:function(e,a,t){"use strict";t.r(a);var n=t(14),r=t(15),o=t(17),l=t(16),s=t(0),i=t.n(s),c=t(496),d=t(497),u=t(36),p=t.n(u),m=t(55),h=t(228),g=t(421),b=t(469),v=t(426),f=t(501),E=t(221),w=t(471),y=t(498),N=t.n(y),D=t(5),S=t.n(D),k=t(48),x=t(500),O=t(447),j=t(448),C=t(467),I=t(22),A=t(479),L=(t(474),t(475),t(489)),P=t(31),R=t.n(P),F=t(539);t(480),t(234);R.a.defaults.baseURL="https://lastarzi2.herokuapp.com";var U={rows:{selectedHighlighStyle:{backgroundColor:"rgba(115,103,240,.05)",color:"#7367F0 !important",boxShadow:"0 0 1px 0 #7367F0 !important","&:hover":{transform:"translateY(0px) !important"}}}},T=function(e){var a;return i.a.createElement("div",{className:"data-list-action"},i.a.createElement(x.a,{style:{cursor:"Unused"===(null===e||void 0===e||null===(a=e.row)||void 0===a?void 0:a.usage)?"pointer":"no-drop"},size:window.screen.width<600?13:20,onClick:function(){var a;"Unused"===(null===e||void 0===e||null===(a=e.row)||void 0===a?void 0:a.usage)&&e.setRow()}}))},_=function(e){return i.a.createElement("div",{className:"data-list-action"},window.screen.width>600?i.a.createElement(O.a,{className:"cursor-pointer mr-1",size:"13",onClick:function(){return e.currentData(e.row)}}):i.a.createElement(j.a,{className:"cursor-pointer mr-1",size:"20",onClick:function(){return e.currentData(e.row)}}))},V=function(e){return i.a.createElement("div",{className:"data-list-header d-flex justify-content-between flex-wrap"},i.a.createElement("div",{className:"actions-left d-flex"},i.a.createElement(h.a.Ripple,{color:"white",className:"sort-dropdown mx-50",style:{height:"75%",backgroundColor:"var(--warning)",fontWeight:"bold"},outline:!0,onClick:function(){return e.handleSidebar(!0,!0)}},i.a.createElement("span",{className:"align-middle"},"Add"))),i.a.createElement("div",{className:"actions-right d-flex flex-wrap"},i.a.createElement("div",{className:"filter-section"},i.a.createElement(g.a,{type:"text",style:{height:"75%",borderRadius:"5rem",fontSize:"1rem"},onChange:function(a){return e.handleFilter(a)},placeholder:"Find Nominee",className:"placeholder"}))),i.a.createElement("div",{className:""},i.a.createElement("div",{className:"data-list-rows-dropdown mr-1 d-none"},i.a.createElement(h.a.Ripple,{color:"",className:"sort-dropdown",style:{height:"75%"}},i.a.createElement("span",{className:"align-middle mx-50"},"Count : ",e.total)))))},z=function(e){Object(o.a)(t,e);var a=Object(l.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=a.call.apply(a,[this].concat(o))).state={data:[],totalPages:0,currentPage:0,columns:[{name:"Edit",sortable:!1,width:"80px",cell:function(a){return i.a.createElement(_,{row:a,getData:e.props.getData,parsedFilter:e.props.parsedFilter,currentData:e.handleCurrentData})}},{name:"Name",selector:"name",sortable:!0,minWidth:"200px",cell:function(e){return i.a.createElement("p",{title:e.name,className:"text-truncate text-bold-500 mb-0"},e.name)}},{name:"Relation",selector:"relation",sortable:!0,width:"170px"},{name:"Email",minWidth:"200px",selector:"email",sortable:!0},{name:"Contact",selector:"primaryContact",minWidth:"150px",sortable:!0},{name:"Status",width:"120px",selector:"unused",sortable:!0,cell:function(e){return i.a.createElement(F.a,{className:"m-0",color:"Unused"!==e.usage&&e.usage?"success":"primary",text:"Unused"!==e.usage&&e.usage?"Used":"Unused"})}},{name:"Delete",sortable:!1,width:"110px",cell:function(a){return i.a.createElement(T,{row:a,setRow:function(){e.setState({open:!0}),e.setState({deleteThisRow:a})},getData:e.props.getData,parsedFilter:e.props.parsedFilter,deleteRow:e.handleDelete})}}],mobilecolumns:[{name:"Info",sortable:!0,width:"50px",cell:function(a){return i.a.createElement(_,{row:a,getData:e.props.getData,parsedFilter:e.props.parsedFilter,currentData:e.handleCurrentData,deleteRow:e.handleDelete})}},{name:"Name",selector:"name",sortable:!0,minWidth:"50px",cell:function(e){return i.a.createElement("p",{style:{fontSize:"10px"},title:e.name,className:"text-truncate text-bold-500 mb-0"},e.name)}},{name:"Relation",selector:"relation",maxWidth:"50px",sortable:!0,cell:function(e){return i.a.createElement("p",{style:{fontSize:"10px"},title:e.relation,className:"text-truncate text-bold-500 mb-0"},e.relation)}},{name:"Trash",sortable:!0,width:"50px",cell:function(a){return i.a.createElement(T,{row:a,getData:e.props.getData,parsedFilter:e.props.parsedFilter,currentData:e.handleCurrentData,deleteRow:e.handleDelete})}}],deleteThisRow:null,open:!1,allData:[],value:"",rowsPerPage:4,sidebar:!1,currentData:null,selected:[],totalRecords:0,sortIndex:[],addNew:"",isLoading:!1,dataLoading:!1},e.thumbView=e.props.thumbView,e.handleFilter=function(a){e.setState({value:a.target.value}),e.props.filterData(a.target.value)},e.handleRowsPerPage=function(a){var t=e.props,n=t.parsedFilter,r=t.getData,o=void 0!==(null===n||void 0===n?void 0:n.page)?null===n||void 0===n?void 0:n.page:1;k.a.push("/nominee/list?page=".concat(o,"&perPage=").concat(a)),e.setState({rowsPerPage:a}),r({page:null===n||void 0===n?void 0:n.page,perPage:a})},e.handleSidebar=function(a){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.setState({sidebar:a}),!0===t&&e.setState({currentData:null,addNew:!0})},e.handleDelete=function(a){if(e.props.deleteData(a),e.state.data.length-1===0){var t,n=e.props.thumbView?"/data-list/thumb-view/":"/#/nominee/list/";k.a.push("".concat(n,"list-view?page=").concat(parseInt((null===(t=e.props.parsedFilter)||void 0===t?void 0:t.page)-1),"&perPage=").concat(e.props.parsedFilter.perPage))}},e.addData=function(){var a=Object(m.a)(p.a.mark((function a(t){return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e.setState({isLoading:!0}),a.prev=1,a.next=4,e.props.addData(t);case 4:e.setState({isLoading:!1}),e.handleSidebar(!1,!0),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),e.setState({isLoading:!1}),w.b.error("Add Nominee Failed! Please contact admin");case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}(),e.updateData=function(){var a=Object(m.a)(p.a.mark((function a(t){return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(""!==t.name&&""!==t.relation&&""!==t.email&&""!==t.contact1&&""!==t.address){a.next=4;break}w.b.error("Please Fill All Mandatory Details"),a.next=16;break;case 4:return e.setState({isLoading:!0}),a.prev=5,a.next=8,e.props.updateData(t);case 8:e.setState({isLoading:!1}),e.handleSidebar(!1,!0),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(5),e.setState({isLoading:!1}),w.b.error("Unable to update! Please try again");case 16:case"end":return a.stop()}}),a,null,[[5,12]])})));return function(e){return a.apply(this,arguments)}}(),e.handleCurrentData=function(a){e.setState({currentData:a}),e.handleSidebar(!0)},e.handlePagination=function(a){var t=e.props,n=t.parsedFilter,r=t.getData,o=void 0!==n.perPage?n.perPage:4,l=(e.props.thumbView,"/#/nominee/list/");k.a.push("".concat(l,"list-view?page=").concat(a.selected+1,"&perPage=").concat(o)),r({page:a.selected+1,perPage:o}),e.setState({currentPage:a.selected})},e}return Object(r.a)(t,[{key:"componentDidMount",value:function(){var e,a,t;!(null===this||void 0===this||null===(e=this.props)||void 0===e||null===(a=e.dataList)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.length)&&!this.props.listLoading&&this.props.getData(),this.props.dataTest()}},{key:"render",value:function(){var e=this,a=this.state,t=a.columns,n=a.data,r=a.allData,o=a.value,l=a.rowsPerPage,s=a.currentData,c=a.sidebar,d=a.totalRecords,u=a.sortIndex;return console.log("3333",this.props.listLoading),this.props.listLoading?i.a.createElement("div",{className:"fallback-spinner vh-100"},i.a.createElement(E.a,{color:"danger",size:"sm"})):i.a.createElement("div",{className:"data-list ".concat(this.props.thumbView?"thumb-view":"list-view")},i.a.createElement(b.a,{isOpen:this.state.open,className:"modal-dialog-centered",backdrop:"static"},i.a.createElement(v.a,null,"Are you sure you want to delete this record?"),i.a.createElement(f.a,null,i.a.createElement(h.a,{color:"primary",onClick:function(){return e.setState({open:!1})},className:"button-label"},"Cancel"),i.a.createElement(h.a,{color:"danger",onClick:function(){e.handleDelete(e.state.deleteThisRow),e.setState({open:!1})},className:"button-label"},"Delete"))),i.a.createElement(N.a,{width:"200",columns:window.screen.width<600?this.state.mobilecolumns:t,data:o.length?r:n,noHeader:!0,subHeader:!0,selectableRows:(window.screen.width,!1),responsive:!0,pointerOnHover:!0,selectableRowsHighlight:!0,onSelectedRowsChange:function(a){return e.setState({selected:a.selectedRows})},customStyles:U,subHeaderComponent:i.a.createElement(V,{className:"data-table",handleSidebar:this.handleSidebar,handleFilter:this.handleFilter,handleRowsPerPage:this.handleRowsPerPage,rowsPerPage:l,total:d,index:u}),sortIcon:i.a.createElement(C.a,null)}),i.a.createElement(L.a,{show:c,data:s,updateData:this.updateData,addData:this.addData,isLoading:this.state.isLoading,handleSidebar:this.handleSidebar,thumbView:this.props.thumbView,getData:this.props.getData,dataParams:this.props.parsedFilter,addNew:this.state.addNew}),i.a.createElement("div",{className:S()("data-list-overlay",{show:c}),onClick:function(){return e.handleSidebar(!1,!0)}}))}}],[{key:"getDerivedStateFromProps",value:function(e,a){var t,n,r;return e.dataList.data.length!==a.data.length||a.currentPage!==(null===(t=e.parsedFilter)||void 0===t?void 0:t.page)?{data:e.dataList.data,allData:e.dataList.filteredData,totalPages:e.dataList.data.length/5,currentPage:parseInt(null===(n=e.parsedFilter)||void 0===n?void 0:n.page)-1,rowsPerPage:parseInt(null===(r=e.parsedFilter)||void 0===r?void 0:r.perPage),totalRecords:e.dataList.totalRecords,sortIndex:e.dataList.sortIndex,dataLoading:!1}:null}}]),t}(s.Component),B=Object(I.b)((function(e){return console.log("state.dataList.totalRecordsLoading",e.dataList.totalRecordsLoading),{dataList:e.dataList,totalRecordsLoading:e.dataList.totalRecordsLoading}}),(function(e){return{deleteData:function(a){return e(Object(A.b)(a))},updateData:function(a){return e(Object(A.g)(a))},addData:function(a){return e(Object(A.a)(a))},getData:function(a){return e(Object(A.d)(a))},filterData:function(a){return e(Object(A.c)({data:a}))},dataTest:function(){return e({type:"GET_ALL_DATA_LOADING",data:!0})}}}))(z),W=t(580),G=t.n(W),H=function(e){Object(o.a)(t,e);var a=Object(l.a)(t);function t(){return Object(n.a)(this,t),a.apply(this,arguments)}return Object(r.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("h2",{className:"warning spacing nodisplay"},"Nominees"),i.a.createElement(c.a,null,i.a.createElement(w.a,null),i.a.createElement(d.a,{sm:"12"},i.a.createElement(B,{parsedFilter:G.a.parse(this.props.location.search)}))))}}]),t}(i.a.Component);a.default=H}}]);
//# sourceMappingURL=22.d869428c.chunk.js.map