(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[24],{475:function(e,a,t){},479:function(e,a,t){"use strict";t.d(a,"e",(function(){return m})),t.d(a,"f",(function(){return p})),t.d(a,"d",(function(){return b})),t.d(a,"b",(function(){return h})),t.d(a,"c",(function(){return g})),t.d(a,"a",(function(){return f})),t.d(a,"g",(function(){return v}));var n=t(36),r=t.n(n),l=t(55),o=t(486),c=t(31),i=t.n(c),s=t(471),d=t(32);i.a.defaults.baseURL="https://lastarzi2.herokuapp.com";var u=function(e){var a,t=Object(o.a)(null===e||void 0===e?void 0:e.data);try{for(t.s();!(a=t.n()).done;){var n=a.value;(null===n||void 0===n?void 0:n.spendId)&&(n.spendId=Object(d.a)(null===n||void 0===n?void 0:n.spendId)),(null===n||void 0===n?void 0:n.item)&&(n.item=Object(d.a)(null===n||void 0===n?void 0:n.item)),(null===n||void 0===n?void 0:n.label)&&(n.label=Object(d.a)(null===n||void 0===n?void 0:n.label)),(null===n||void 0===n?void 0:n.amount)&&(n.amount=Object(d.a)(null===n||void 0===n?void 0:n.amount)),(null===n||void 0===n?void 0:n.desc)&&(n.desc=Object(d.a)(null===n||void 0===n?void 0:n.desc))}}catch(r){t.e(r)}finally{t.f()}return e},m=function(e){return function(){var a=Object(l.a)(r.a.mark((function a(t){var n;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=localStorage.getItem("logInUserData")?JSON.parse(localStorage.getItem("logInUserData")):{},a.next=3,i.a.get("/backendapi/nominee/list/"+n._id,{params:e,headers:{Authorization:"Bearer "+localStorage.getItem("authtoken")}}).then((function(a){t({type:"GET_ALL_DATA_LOADING",data:!1});var n,r=Object(o.a)(null===a||void 0===a?void 0:a.data);try{for(r.s();!(n=r.n()).done;){var l=n.value;l.nomineeId=(null===l||void 0===l?void 0:l.nomineeId)&&Object(d.a)(l.nomineeId,!0),l.name=(null===l||void 0===l?void 0:l.name)&&Object(d.a)(l.name,!0),l.relation=(null===l||void 0===l?void 0:l.relation)&&Object(d.a)(l.relation,!0),l.email=(null===l||void 0===l?void 0:l.email)&&Object(d.a)(l.email,!0),l.primaryContact=(null===l||void 0===l?void 0:l.primaryContact)&&Object(d.a)(l.primaryContact,!0),l.secondaryContact=(null===l||void 0===l?void 0:l.secondaryContact)&&Object(d.a)(l.secondaryContact,!0),l.address=(null===l||void 0===l?void 0:l.address)&&Object(d.a)(l.address,!0)}}catch(c){r.e(c)}finally{r.f()}t({type:"GET_DATA",data:a.data,totalPages:a.length,params:e})}));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},p=function(e){return function(){var a=Object(l.a)(r.a.mark((function a(t){var n;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=localStorage.getItem("logInUserData")?JSON.parse(localStorage.getItem("logInUserData")):{},t({type:"GET_SPEND_DATA_LOADING",data:!0}),a.next=4,i.a.get("/backendapi/spend/list/"+n._id,{params:e,headers:{Authorization:"Bearer "+localStorage.getItem("authtoken")}}).then((function(a){var n;console.log("getSpendData"),t({type:"GET_SPEND_DATA_LOADING",data:!1}),t({type:"GET_DATA",data:null===(n=u(a))||void 0===n?void 0:n.data,totalPages:a.length,params:e})})).catch((function(e){console.log(e),t({type:"GET_SPEND_DATA_LOADING",data:!1})}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},b=function(e){return function(a){return a({type:"FILTER_DATA",value:e})}},h=function(e){return function(a){console.log("DELETE DATA :"),i.a.post("/backendapi/nominee/delete",e,{headers:{Authorization:"Bearer "+localStorage.getItem("authtoken")}}).then((function(t){a({type:"DELETE_DATA",obj:e})}))}},g=function(e){return function(a){console.log("DELETE DATA :"),i.a.post("/backendapi/spend/delete",e,{headers:{Authorization:"Bearer "+localStorage.getItem("authtoken")}}).then((function(t){a({type:"DELETE_DATA",obj:e})}))}},f=function(e){var a={userId:(localStorage.getItem("logInUserData")?JSON.parse(localStorage.getItem("logInUserData")):{})._id,name:Object(d.b)(e.name,!0),relation:Object(d.b)(e.relation,!0),email:Object(d.b)(e.email,!0),primaryContact:Object(d.b)(e.contact1,!0),secondaryContact:Object(d.b)(e.contact2,!0),address:Object(d.b)(e.address,!0),usage:"Unused"};return"others"===e.relation&&e.relation1&&(a.relation=Object(d.b)(e.relation1,!0)),function(){var e=Object(l.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("/backendapi/nominee/add",a,{headers:{Authorization:"Bearer "+localStorage.getItem("authtoken")}}).then((function(e){s.b.success("Nominee Added Successfully"),t(m())}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},v=function(e){var a=localStorage.getItem("logInUserData")?JSON.parse(localStorage.getItem("logInUserData")):{},t={_id:e._id,usage:e.usage?e.usage:"Unused",userId:a._id,name:Object(d.b)(e.name,!0),relation:Object(d.b)(e.relation,!0),email:Object(d.b)(e.email,!0),primaryContact:Object(d.b)(e.contact1,!0),secondaryContact:Object(d.b)(e.contact2,!0),address:Object(d.b)(e.address,!0)};return"others"===e.relation&&e.relation1&&(t.relation=Object(d.b)(e.relation1,!0)),function(){var e=Object(l.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("/backendapi/nominee/update",t,{headers:{Authorization:"Bearer "+localStorage.getItem("authtoken")}}).then((function(e){s.b.success("Nominee Updated Successfully"),a(m())}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()}},480:function(e,a,t){},489:function(e,a,t){"use strict";var n=t(18),r=t(0),l=t.n(r),o=t(420),c=t(421),i=t(422),s=t(228),d=t(393),u=t(104),m=t.n(u),p=t(5),b=t.n(p),h=t(19);a.a=function(e){var a=Object(r.useState)("Collegue"),t=Object(n.a)(a,2),u=t[0],p=t[1],g=Object(r.useState)("Collegue"),f=Object(n.a)(g,2),v=f[0],E=f[1],O=Object(r.useState)(""),j=Object(n.a)(O,2),y=j[0],N=j[1],w=Object(r.useState)(""),D=Object(n.a)(w,2),S=D[0],k=D[1],x=Object(r.useState)(""),C=Object(n.a)(x,2),A=C[0],I=C[1],L=Object(r.useState)(""),_=Object(n.a)(L,2),T=_[0],F=_[1],z=Object(r.useState)(""),R=Object(n.a)(z,2),U=R[0],P=R[1],V=Object(r.useState)(""),B=Object(n.a)(V,2),G=B[0],W=B[1],H=Object(r.useState)(""),J=Object(n.a)(H,2),Z=J[0],M=J[1],$=Object(r.useState)(!1),Y=Object(n.a)($,2),q=Y[0],K=Y[1],Q=Object(r.useState)(""),X=Object(n.a)(Q,2),ee=X[0],ae=X[1],te=Object(r.useState)(""),ne=Object(n.a)(te,2),re=ne[0],le=ne[1],oe=Object(r.useState)(""),ce=Object(n.a)(oe,2),ie=ce[0],se=ce[1],de=Object(r.useState)(""),ue=Object(n.a)(de,2),me=ue[0],pe=ue[1],be=Object(r.useState)(""),he=Object(n.a)(be,2),ge=he[0],fe=he[1],ve=Object(r.useState)(""),Ee=Object(n.a)(ve,2),Oe=Ee[0],je=Ee[1];Object(r.useEffect)((function(){if(e.data){var a=e.data,t=a.id,n=a.name,r=a.relation,l=a.address,o=a.email,c=a.primaryContact,i=a.secondaryContact;W(t),M(n),p(r),"Collegue"!==r&&"Cousin"!==r&&"Daughter"!==r&&"Daughter-in-law"!==r&&"Friend"!==r&&"Husband"!==r&&"Son"!==r&&"Son-in-law"!==r&&"Wife"!==r&&(p("others"),E(r)),k(l),N(o),I(c),F(i)}else(null===e.data||q)&&De();K(!1)}),[e.data]);var ye=function(e){var a=!0;switch(e){case"name":0===Z.length||""===Z?(je("Enter Valid Name"),a=!1):(je(""),a=!0);break;case"email":""===y?(le("Enter Valid Email"),a=!1):""!==y&&"undefined"!==typeof y&&(y.match(/^([A-Za-z0-9_\-.])+@([A-Za-z0-9_\-.])+\.([A-Za-z]{2,})$/)?(le(""),a=!0):(le("Enter Valid Email"),a=!1));break;case"address":S?(se(""),a=!0):(se("Enter Valid Address"),a=!1);break;case"contact1":0===A.length?(pe("Enter Valid Contact"),a=!1):0!==A.length&&"undefined"!==typeof A&&(10!==A.length?(pe("Enter Valid Contact"),a=!1):(pe(""),a=!0));break;case"contact2":0===T.length||0!==T.length&&10===T.length?(fe(""),a=!0):(fe("Enter Valid Contact"),a=!1);break;case"relation":"others"===u&&0===v.length?(ae("Enter Valid Relation"),a=!1):(ae(""),a=!0);break;case"submit":0===Z.length||""===Z?(je("Enter Valid Name"),a=!1):(je(""),a=!0),""===y?(le("Enter Valid Email"),a=!1):""!==y&&"undefined"!==typeof y&&(y.match(/^([A-Za-z0-9_\-.])+@([A-Za-z0-9_\-.])+\.([A-Za-z]{2,})$/)?(le(""),a=!0):(le("Enter Valid Email"),a=!1)),"others"!==u||0!==v.length&&"others"!==v?ae(""):ae("Enter Valid relation"),0===A.length?(pe("Enter Valid Contact"),a=!1):0!==A.length&&"undefined"!==typeof A&&(10!==A.length?(pe("Enter Valid Contact"),a=!1):(pe(""),a=!0)),0===T.length||0!==T.length&&10===T.length?(fe(""),a=!0):(fe("Enter Valid Contact"),a=!1),S?(se(""),a=!0):(se("Enter Valid Address"),a=!1)}return a},Ne=function(e,a){switch(e){case"name":M(a);break;case"email":N(a);break;case"address":k(a.replace(/[\n\r]/g,", "));break;case"contact1":I(a);break;case"contact2":F(a);break;case"relation":p(a);break;case"relation1":E(a)}},we=function(e){switch(e){case"name":je("");break;case"email":le("");break;case"address":se("");break;case"contact1":pe("");break;case"contact2":fe("");break;case"relation1":ae("")}},De=function(){M(""),p("Collegue"),E(""),N(""),k(""),I(""),F(""),je(""),se(""),pe(""),fe(""),le(""),ae("")},Se=e.show,ke=e.handleSidebar,xe=e.data;return l.a.createElement("div",{className:b()("data-list-sidebar",{show:Se})},l.a.createElement("div",{className:"data-list-sidebar-header mt-2 px-2 d-flex justify-content-between"},l.a.createElement("h4",{style:{color:"var(--warning)"}},null!==xe?"UPDATE NOMINEE":"ADD NEW NOMINEE"),l.a.createElement(d.a,{size:20,onClick:function(){ke(!1,!0),De()}})),l.a.createElement(m.a,{className:"data-list-fields px-2 pt-2",options:{wheelPropagation:!1}},l.a.createElement("div",null,l.a.createElement(o.a,{className:"form-label-group mb-0"},l.a.createElement(c.a,{className:"input-label",type:"text",value:Z,placeholder:"Nominee Name",onChange:function(e){Ne("name",e.target.value),we("name")},onBlur:function(){return ye("name")},id:"data-name",style:{borderColor:Oe?"red":""}}),l.a.createElement(i.a,{className:"dark"===h.a.theme?"dark-label":"light-label",for:"data-name"},"Name")),Oe&&l.a.createElement("span",{style:{color:"red",fontSize:"0.8rem"}},Oe)),l.a.createElement(o.a,{className:"mt-2 mb-0"},l.a.createElement(c.a,{type:"select",id:"data-category",value:u,onChange:function(e){Ne("relation",e.target.value)}},l.a.createElement("option",null,"Collegue"),l.a.createElement("option",null,"Cousin"),l.a.createElement("option",null,"Daughter"),l.a.createElement("option",null,"Daughter-in-law"),l.a.createElement("option",null,"Friend"),l.a.createElement("option",null,"Husband"),l.a.createElement("option",null,"Son"),l.a.createElement("option",null,"Son-in-law"),l.a.createElement("option",null,"Wife"),l.a.createElement("option",null,"others")),l.a.createElement(i.a,{className:"dark"===h.a.theme?"dark-label select-label":"light-label select-label",for:"data-category"},"Relation")),"others"===u&&l.a.createElement(o.a,{className:"form-label-group mt-2 mb-0"},l.a.createElement(c.a,{type:"text",value:v,placeholder:"Relation Name",onChange:function(e){Ne("relation1",e.target.value),we("relation1")},onBlur:function(){return ye("relation1")},id:"data-Relation",style:{borderColor:ee?"red":""}})),ee&&l.a.createElement("span",{style:{color:"red",fontSize:"0.8rem"}},ee),l.a.createElement(o.a,{className:"form-label-group mt-2 mb-0"},l.a.createElement(c.a,{className:"input-label",type:"email",value:y,placeholder:"Enter nominee email",onChange:function(e){Ne("email",e.target.value),we("email")},onBlur:function(){return ye("email")},id:"data-email",style:{borderColor:re?"red":""}}),l.a.createElement(i.a,{className:"dark"===h.a.theme?"dark-label":"light-label",for:"data-email"},"Nominee Email")),re&&l.a.createElement("span",{style:{color:"red",fontSize:"0.8rem"}},re),l.a.createElement(o.a,{className:"form-label-group mt-2 mb-0"},l.a.createElement(c.a,{className:"input-label",type:"number",value:A,onChange:function(e){Ne("contact1",e.target.value),we("contact1")},onBlur:function(){return ye("contact1")},id:"data-price",placeholder:"Enter primary contact No",style:{borderColor:me?"red":""}}),l.a.createElement(i.a,{className:"dark"===h.a.theme?"dark-label":"light-label",for:"data-price"},"Primary Contact")),me&&l.a.createElement("span",{style:{color:"red",fontSize:"0.8rem"}},me),l.a.createElement(o.a,{className:"form-label-group mt-2 mb-0"},l.a.createElement(c.a,{className:"input-label",type:"number",value:T,onChange:function(e){Ne("contact2",e.target.value),we("contact2")},onBlur:function(){return ye("contact2")},id:"data-price",placeholder:"Enter secondry contact No",style:{borderColor:ge?"red":""}}),l.a.createElement(i.a,{className:"dark"===h.a.theme?"dark-label":"light-label",for:"data-price"},"Secondary Contact")),ge&&l.a.createElement("span",{style:{color:"red",fontSize:"0.8rem"}},ge),l.a.createElement(o.a,{className:"form-label-group mt-2 mb-0"},l.a.createElement(c.a,{className:"input-label ",style:{height:"115px",borderColor:ie?"red":""},type:"textarea",value:S,placeholder:"Address",onChange:function(e){Ne("address",e.target.value),we("address")},onBlur:function(){return ye("address")},id:"data-Address"}),l.a.createElement(i.a,{className:"dark"===h.a.theme?"dark-label":"light-label",for:"data-Address"},"Address *")),ie&&l.a.createElement("span",{style:{color:"red",fontSize:"0.8rem"}},ie),e.thumbView&&U.length<=0?l.a.createElement("label",{className:"btn btn-primary",htmlFor:"upload-image",color:"primary"},"Upload Image",l.a.createElement("input",{type:"file",id:"upload-image",hidden:!0,onChange:function(e){return P(URL.createObjectURL(e.target.files[0]))}})):null),l.a.createElement("div",{className:"data-list-sidebar-footer px-2 d-flex justify-content-start align-items-center mt-1"},l.a.createElement(s.a.Ripple,{className:"button-label",color:"secondary",outline:!0,onClick:function(){De()}},"Reset"),l.a.createElement(s.a.Ripple,{color:"warning",type:"reset",className:"button-label",onClick:function(){return function(){if(ye("submit")){var a={relation:u,relation1:v,email:y,address:S,contact1:A,contact2:T,id:G,name:Z};console.log("here",a),null!==e.data?(a._id=e.data._id,a.usage=e.data.usage,e.updateData(a)):(K(!0),e.addData(a))}}()}},null!==xe?e.isLoading?"Updating...":"Update":e.isLoading?"Adding...":"Add")))}},667:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(496),o=t(497),c=t(36),i=t.n(c),s=t(55),d=t(18),u=t(228),m=t(421),p=t(469),b=t(426),h=t(603),g=t(145),f=t(471),v=t(498),E=t.n(v),O=t(5),j=t.n(O),y=t(48),N=t(500),w=t(447),D=t(448),S=t(467),k=t(22),x=t(479),C=(t(474),t(475),t(489)),A=t(31),I=t.n(A),L=t(14),_=t(15),T=t(17),F=t(16),z=t(393),R=function(e){Object(T.a)(t,e);var a=Object(F.a)(t);function t(){var e;Object(L.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).closeChip=function(e){e.target.closest(".chip").remove()},e}return Object(_.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"chip ".concat(this.props.className," ").concat(this.props.color?"chip-".concat(this.props.color):null)},r.a.createElement("div",{className:"chip-body"},!this.props.avatarImg&&this.props.avatarText||!this.props.avatarImg&&this.props.avatarIcon?r.a.createElement("div",{className:"avatar ".concat(this.props.avatarColor?"bg-".concat(this.props.avatarColor):null)},r.a.createElement("div",{className:"avatar-content"},this.props.avatarText?this.props.avatarText:null,this.props.avatarIcon?this.props.avatarIcon:null)):this.props.avatarImg?r.a.createElement("div",{className:"avatar"},r.a.createElement("img",{src:this.props.avatarImg,alt:"chipImg",height:"20",width:"20"})):null,r.a.createElement("div",{className:"chip-text"},this.props.text),this.props.closable?r.a.createElement("div",{className:"chip-closable",onClick:function(a){return e.closeChip(a)}},this.props.closableIcon?this.props.closableIcon:r.a.createElement(z.a,null)):null))}}]),t}(r.a.Component);t(480),t(234);I.a.defaults.baseURL="https://lastarzi2.herokuapp.com";var U={rows:{selectedHighlighStyle:{backgroundColor:"rgba(115,103,240,.05)",color:"#7367F0 !important",boxShadow:"0 0 1px 0 #7367F0 !important","&:hover":{transform:"translateY(0px) !important"}}}},P=function(e){var a;return r.a.createElement("div",{className:"data-list-action"},r.a.createElement(N.a,{style:{cursor:"Unused"===(null===e||void 0===e||null===(a=e.row)||void 0===a?void 0:a.usage)?"pointer":"no-drop"},size:window.screen.width<500?13:20,onClick:function(){var a;"Unused"===(null===e||void 0===e||null===(a=e.row)||void 0===a?void 0:a.usage)&&e.setRow()}}))},V=function(e){return r.a.createElement("div",{className:"data-list-action"},window.screen.width>500?r.a.createElement(w.a,{className:"cursor-pointer mr-1",size:"13",onClick:function(){return e.currentData(e.row)}}):r.a.createElement(D.a,{className:"cursor-pointer mr-1",size:"20",onClick:function(){return e.currentData(e.row)}}))},B=function(e){return r.a.createElement("div",{className:"data-list-header d-flex justify-content-between flex-wrap"},r.a.createElement("div",{className:"actions-left d-flex"},r.a.createElement(u.a.Ripple,{color:"white",className:"sort-dropdown mx-50",style:{height:"75%",backgroundColor:"var(--warning)",fontWeight:"bold"},outline:!0,onClick:function(){return e.handleSidebar(!0,!0)}},r.a.createElement("span",{className:"align-middle"},"Add"))),r.a.createElement("div",{className:"actions-right d-flex flex-wrap"},r.a.createElement("div",{className:"filter-section"},r.a.createElement(m.a,{type:"text",style:{height:"75%",borderRadius:"5rem",fontSize:"1rem"},onChange:function(a){return e.handleFilter(a)},placeholder:"Find Nominee",className:"placeholder"}))),r.a.createElement("div",{className:""},r.a.createElement("div",{className:"data-list-rows-dropdown mr-1 d-none"},r.a.createElement(u.a.Ripple,{color:"",className:"sort-dropdown",style:{height:"75%"}},r.a.createElement("span",{className:"align-middle mx-50"},"Count : ",e.total)))))},G=Object(k.b)((function(e){return{dataList:e.dataList,listLoading:e.dataList.totalRecordsLoading}}),(function(e){return{deleteData:function(a){return e(Object(x.b)(a))},updateData:function(a){return e(Object(x.g)(a))},addData:function(a){return e(Object(x.a)(a))},getData:function(a){return e(Object(x.e)(a))},filterData:function(a){return e(Object(x.d)({data:a}))},dataTest:function(){return e({type:"GET_ALL_DATA_LOADING",data:!0})}}}))((function(e){var a=[{name:"Edit",sortable:!1,width:"80px",cell:function(a){return r.a.createElement(V,{row:a,getData:e.getData,parsedFilter:e.parsedFilter,currentData:Se})}},{name:"Name",selector:"name",sortable:!0,minWidth:"200px",cell:function(e){return r.a.createElement("p",{title:e.name,className:"text-truncate text-bold-500 mb-0"},e.name)}},{name:"Relation",selector:"relation",sortable:!0,width:"170px",cell:function(e){return r.a.createElement("p",{title:null===e||void 0===e?void 0:e.relation,className:"text-truncate text-bold-500 mb-0"},"others"===(null===e||void 0===e?void 0:e.relation)?null===e||void 0===e?void 0:e.relation1:null===e||void 0===e?void 0:e.relation)}},{name:"Email",minWidth:"200px",selector:"email",sortable:!0},{name:"Contact",selector:"primaryContact",minWidth:"150px",sortable:!0},{name:"Status",width:"120px",selector:"unused",sortable:!0,cell:function(e){return r.a.createElement(R,{className:"m-0",color:"Unused"!==e.usage&&e.usage?"success":"primary",text:"Unused"!==e.usage&&e.usage?"Used":"Unused"})}},{name:"Delete",sortable:!1,width:"110px",cell:function(a){return r.a.createElement(P,{row:a,setRow:function(){T(!0),A(a)},getData:e.getData,parsedFilter:e.parsedFilter,deleteRow:Ne})}}],t=[{name:"Info",sortable:!0,width:"50px",cell:function(a){return r.a.createElement(V,{row:a,getData:e.getData,parsedFilter:e.parsedFilter,currentData:Se})}},{name:"Name",selector:"name",sortable:!0,minWidth:"50px",cell:function(e){return r.a.createElement("p",{style:{fontSize:"10px"},title:e.name,className:"text-truncate text-bold-500 mb-0"},e.name)}},{name:"Relation",selector:"relation",maxWidth:"50px",sortable:!0,cell:function(e){return r.a.createElement("p",{title:null===e||void 0===e?void 0:e.relation,className:"text-truncate text-bold-500 mb-0"},"others"===(null===e||void 0===e?void 0:e.relation)?null===e||void 0===e?void 0:e.relation1:null===e||void 0===e?void 0:e.relation)}},{name:"Trash",sortable:!0,width:"50px",cell:function(a){return r.a.createElement(P,{row:a,getData:e.getData,parsedFilter:e.parsedFilter,currentData:Se,deleteRow:Ne})}}],l=Object(n.useState)([]),o=Object(d.a)(l,2),c=o[0],m=o[1],v=Object(n.useState)(0),O=Object(d.a)(v,2),N=O[0],w=O[1],D=Object(n.useState)(null),k=Object(d.a)(D,2),x=k[0],A=k[1],I=Object(n.useState)(!1),L=Object(d.a)(I,2),_=L[0],T=L[1],F=Object(n.useState)([]),z=Object(d.a)(F,2),G=z[0],W=z[1],H=Object(n.useState)(""),J=Object(d.a)(H,2),Z=J[0],M=J[1],$=Object(n.useState)(4),Y=Object(d.a)($,2),q=Y[0],K=Y[1],Q=Object(n.useState)(!1),X=Object(d.a)(Q,2),ee=X[0],ae=X[1],te=Object(n.useState)(null),ne=Object(d.a)(te,2),re=ne[0],le=ne[1],oe=Object(n.useState)(0),ce=Object(d.a)(oe,2),ie=ce[0],se=ce[1],de=Object(n.useState)([]),ue=Object(d.a)(de,2),me=ue[0],pe=ue[1],be=Object(n.useState)(""),he=Object(d.a)(be,2),ge=he[0],fe=he[1],ve=Object(n.useState)(!1),Ee=Object(d.a)(ve,2),Oe=Ee[0],je=Ee[1];Object(n.useEffect)((function(){var a,t,n;e.dataList.data.length===c.length&&N===(null===(a=e.parsedFilter)||void 0===a?void 0:a.page)||(m(e.dataList.data),W(e.dataList.filteredData),w(parseInt(null===(t=e.parsedFilter)||void 0===t?void 0:t.page)-1),K(parseInt(null===(n=e.parsedFilter)||void 0===n?void 0:n.perPage)),se(e.dataList.totalRecords),pe(e.dataList.sortIndex))}),[e.dataList]),Object(n.useEffect)((function(){e.getData(),e.dataTest()}),[]);var ye=function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];ae(e),!0===a&&(le(null),fe(a))},Ne=function(a){if(e.deleteData(a),c.length-1===0){var t,n=e.thumbView?"/data-list/thumb-view/":"/#/nominee/list/";y.a.push("".concat(n,"list-view?page=").concat(parseInt((null===(t=e.parsedFilter)||void 0===t?void 0:t.page)-1),"&perPage=").concat(e.parsedFilter.perPage))}},we=function(){var a=Object(s.a)(i.a.mark((function a(t){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return je(!0),a.prev=1,a.next=4,e.addData(t);case 4:je(!1),ye(!1,!0),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),je(!1),f.b.error("Add Nominee Failed! Please contact admin");case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}(),De=function(){var a=Object(s.a)(i.a.mark((function a(t){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(""!==t.name&&""!==t.relation&&""!==t.email&&""!==t.contact1&&""!==t.address){a.next=4;break}f.b.error("Please Fill All Mandatory Details"),a.next=16;break;case 4:return je(!0),a.prev=5,a.next=8,e.updateData(t);case 8:je(!1),ye(!1,!0),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(5),je(!1),f.b.error("Unable to update! Please try again");case 16:case"end":return a.stop()}}),a,null,[[5,12]])})));return function(e){return a.apply(this,arguments)}}(),Se=function(e){le(e),ye(!0)};return e.listLoading?r.a.createElement("div",{className:"fallback-spinner vh-100"},r.a.createElement(g.a,{color:"danger",size:"sm"})):r.a.createElement("div",{className:"data-list ".concat(e.thumbView?"thumb-view":"list-view")},r.a.createElement(p.a,{isOpen:_,className:"modal-dialog-centered",backdrop:"static"},r.a.createElement(b.a,null,"Are you sure you want to delete this record?"),r.a.createElement(h.a,null,r.a.createElement(u.a,{color:"primary",onClick:function(){return T(!1)},className:"button-label"},"Cancel"),r.a.createElement(u.a,{color:"danger",onClick:function(){Ne(x),T(!1)},className:"button-label"},"Delete"))),r.a.createElement(E.a,{width:"200",columns:window.screen.width<600?t:a,data:Z.length?G:c,noHeader:!0,subHeader:!0,selectableRows:(window.screen.width,!1),responsive:!0,pointerOnHover:!0,selectableRowsHighlight:!0,customStyles:U,subHeaderComponent:r.a.createElement(B,{className:"data-table",handleSidebar:ye,handleFilter:function(a){M(a.target.value),e.filterData(a.target.value)},handleRowsPerPage:function(a){var t=e.parsedFilter,n=e.getData,r=void 0!==(null===t||void 0===t?void 0:t.page)?null===t||void 0===t?void 0:t.page:1;y.a.push("/nominee/list?page=".concat(r,"&perPage=").concat(a)),K(a),n({page:null===t||void 0===t?void 0:t.page,perPage:a})},rowsPerPage:q,total:ie,index:me}),sortIcon:r.a.createElement(S.a,null)}),r.a.createElement(C.a,{show:ee,data:re,updateData:De,addData:we,isLoading:Oe,handleSidebar:ye,thumbView:e.thumbView,getData:e.getData,dataParams:e.parsedFilter,addNew:ge}),r.a.createElement("div",{className:j()("data-list-overlay",{show:ee}),onClick:function(){return ye(!1,!0)}}))})),W=t(578),H=t.n(W);a.default=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"warning spacing nodisplay"},"Nominees"),r.a.createElement(l.a,null,r.a.createElement(f.a,null),r.a.createElement(o.a,{sm:"12"},r.a.createElement(G,{parsedFilter:H.a.parse(e.location.search)}))))}}}]);
//# sourceMappingURL=24.f1e50a7d.chunk.js.map