{"version":3,"sources":["views/Login/Login.js","assets/img/icons/logo11.png"],"names":["axios","defaults","baseURL","Login","props","_handleKeyDownLogin","event","which","keyCode","_isMounted","handleSubmit","state","password","mobileNo","isLoading","isError","responseData","errorMsg","status","token","showPasswordFlag","isSubmit","loginText","bind","showPassword","hidePassword","goToForgotPassword","handleChangeUsername","handleChangePassword","subscribe","this","setState","target","value","history","push","email","console","log","post","localStorage","getItem","topic","then","res","firebase","e","user","trim","data","length","resp","loggedIn","toString","d","Date","attendanceDt","setHours","getTime","setItem","JSON","stringify","window","location","reload","userkey","routerProps","match","params","catch","error","response","document","addEventListener","parse","isApiError","apiResponseStatus","apiResponseData","fault","businessMessage","className","type","placeholder","href","style","display","flexDirection","src","Logo","color","fontWeight","name","onChange","onClick","Component","module","exports"],"mappings":"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","file":"static/js/21.6319879f.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport Logo from \"../../assets/img/icons/logo11.png\";\r\nimport \"./login1.css\";\r\nimport * as firebase from \"firebase/app\";\r\nimport admin from \"firebase-admin\";\r\nimport serviceAccount from \"./serviceAcc.json\";\r\nimport \"firebase/messaging\";\r\nimport { Input, FormGroup, Form } from \"reactstrap\";\r\n\r\n//import \"firebase/messaging/subscribeToTopic\"\r\naxios.defaults.baseURL = \"https://lastarzi2.herokuapp.com\";\r\n//axios.defaults.baseURL = \"http://localhost:5000\";\r\n//axios.defaults.timeout = 10000;\r\nexport default class Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      password: \"\",\r\n      mobileNo: \"\",\r\n      isLoading: false,\r\n      isError: false,\r\n      responseData: {},\r\n      errorMsg: \"\",\r\n      status: \"\",\r\n      token: \"\",\r\n      showPasswordFlag: true,\r\n      isSubmit: false,\r\n      loginText: \"Sign In\",\r\n    };\r\n    this._isMounted = false;\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.showPassword = this.showPassword.bind(this);\r\n    this.hidePassword = this.hidePassword.bind(this);\r\n    this.goToForgotPassword = this.goToForgotPassword.bind(this);\r\n    this.handleChangeUsername = this.handleChangeUsername.bind(this);\r\n    this.handleChangePassword = this.handleChangePassword.bind(this);\r\n    this.subscribe = this.subscribe.bind(this);\r\n  }\r\n\r\n  handleChangeUsername(event) {\r\n    this.setState({ mobileNo: event.target.value });\r\n  }\r\n\r\n  handleChangePassword(event) {\r\n    this.setState({ password: event.target.value });\r\n  }\r\n\r\n  goToForgotPassword() {\r\n    this.props.history.push(\"/forgotpassword\");\r\n  }\r\n\r\n  showPassword() {\r\n    this.setState({ showPasswordFlag: true });\r\n  }\r\n\r\n  hidePassword() {\r\n    this.setState({ showPasswordFlag: false });\r\n  }\r\n\r\n  subscribe(email) {\r\n    console.log(\"###############################start\");\r\n    try {\r\n      axios\r\n        .post(\"/backendapi/subscribe\", {\r\n          token: localStorage.getItem(\"fcmtoken\"),\r\n          topic: email,\r\n        })\r\n        .then((res) => {});\r\n      // var firebaseConfig = {\r\n      //   apiKey: \"AIzaSyBtOI48D0MC4jZvCUfDPDY4181BMDmORy0\",\r\n      //   authDomain: \"last-arzi1.firebaseapp.com\",\r\n      //   projectId: \"last-arzi1\",\r\n      //   storageBucket: \"last-arzi1.appspot.com\",\r\n      //   messagingSenderId: \"694717478732\",\r\n      //   appId: \"1:694717478732:web:3e4839b10b37c1b84381e9\",\r\n      //   measurementId: \"G-Z41MEYD21Q\"\r\n      // };\r\n      console.log(\"###############################start1\");\r\n      //admin.messaging().subscribeToTopic([localStorage.getItem('fcmtoken')], 'aaquib@121')\r\n      console.log(\"###############################start1\", firebase.apps);\r\n      //firebase.app('[DEFAULT]')\r\n      //if (!firebase.apps.length) {\r\n      //     admin.initializeApp({\r\n      //       credential: admin.credential.cert({\r\n      //         \"type\": \"service_account\",\r\n      //         \"project_id\": \"last-arzi1\",\r\n      //         \"private_key_id\": \"a6c3af2dd89f69aacc1213dbc269c7f65c816c5c\",\r\n      //         \"private_key\": \"-----BEGIN PRIVATE KEY-----\\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQCueFkZWpeNv8hi\\npg0uj7rQWGruOECmYIlv97iPTKwXP8q7BnVfwVEU/A5R4CTUXcltwPgALVCeESqV\\nfWYJ815sFbRya1oCS2nXYJBvsTeQtCXX0bnqBg0OXyNzFJtV1qFF1Ntmt32Ex4Bc\\nFJzKCfgOwQjEtJhs06u51urhCGZejN4YlMY/18uJbEgGB2GEkg71cX2rcQwcUAq8\\nBwI+DXBB1hdpRBOum+9Z6SpRpDCEJOkJ9Dq3uJ3byLOjW6wo1xyUUKWJe9+y1wM3\\nLvrWCXlI1EDSjJJOUsNnrG23WO/NzHS0e9MGADiqjOF/tmTXvKdINXaOc5Aa+fD8\\n/7BKHazLAgMBAAECggEAP6X29zll5Zfr/hUO5QgZQm2nIN3Ts/6u1PKd2WVCuL6U\\ncnNSOYsYTdwAS11GglTuqYQG1WWyrd+cVenn4kRvE2Y9rKo+LW0eoSyAtMaFe1xF\\nG/1OYjIv7CjIEXEYlBGXRxb2rXvOJjTzvmPkqQ5G+PbyAHTT0IvN75+Yk1zRn7cQ\\n8cjWpoQsCuW/kEpPaNp/YBTNPyIv+l5yQWfc0CsvGszw3HWyKdkGJWq3zAuuvslL\\nAcq7a5hC3WETdrNSFDCRpfvvSaqsCMwJaVi8FNVMMJr5X1hhU4s0bvr9/tNY1LpO\\nQ1hzjgLS3za+/yDok43DTwG8AzMWfQWKaw5cQUSKOQKBgQDcDNn9d7VxLk0Fvp+d\\nWfw7r6ne33O73ZRwNfDJO5cjKqRR0ZWuk3quY0yBdQzK+GJ29WiDUJ1Mb7gNq7q5\\n9WHOfRci9pxP8fCL56GK120X996yDkisGuPcqp3YPT+MEFBMMVk7gjPK6pNLjrOT\\nTsyAycytFuPQ2QlPR78X/F634wKBgQDK+TPgQQ+ldn9/i/jbIHZagIDKx05BaiGP\\nGbhsOSPS4t3OrcqlNLVE0DSlECSPoy0p/b3aGivkyE4qHb0sZAf6W4r6/TL3Iniz\\njAbd1M4FEoAr9bsrCOnW8AfgO7VU8Q5f3O0DPOkyFP8aaRX3dhQc6b2gp/lu8IUY\\n1UlBA867+QKBgQCGjREqDG2UpDQShCnDJEe4E0Ryc/2nbOib6E+wLFDQ/vz0zouQ\\n8Lq+MReRvQmyfkhu5sYeLUfReip3qX8GwAUrJo/kIBkaRRzJ3zuG0wzw7+5qv5Mu\\nMU8NGgJkO6dEtKD0xeQDIC0dMWwZcktZkoA3a61MVUe950frAzrUpssf8wKBgQCm\\nyLdT4qJUuFZ0HDRU+wvFuioadkNbhTYmPGBKrXk+ZKUWm8AUmIcLEHrx153zWYZX\\nJuXGPhMrX1y7RsyXmWrk0iwVqdEjOfQstTc/OQpBKL6hYL530k80CvCt1OJf9eR1\\n6TfonTiRqqcksI0YVrKYP4lOZjiUbJcxnLEg91v9IQKBgB69eDrvleGaMlQAKKvp\\nFnnskugG57GFwLhFisr+26ZZrPMCDCiUspVKR2JuneU5YAC+NWKvmtoViDduqL4+\\n9rc2P2l8W8fh45BmCMWCTHbIZytRCRLbZ/+ubUAHgTLqpMQZEOhoYgo0afOxNbbI\\ngFt+8wyLNUS4D2/JLvGwk8wa\\n-----END PRIVATE KEY-----\\n\",\r\n      //         \"client_email\": \"firebase-adminsdk-9rt7p@last-arzi1.iam.gserviceaccount.com\",\r\n      //         \"client_id\": \"102077500518595799965\",\r\n      //         \"auth_uri\": \"https://accounts.google.com/o/oauth2/auth\",\r\n      //         \"token_uri\": \"https://oauth2.googleapis.com/token\",\r\n      //         \"auth_provider_x509_cert_url\": \"https://www.googleapis.com/oauth2/v1/certs\",\r\n      //         \"client_x509_cert_url\": \"https://www.googleapis.com/robot/v1/metadata/x509/firebase-adminsdk-9rt7p%40last-arzi1.iam.gserviceaccount.com\"\r\n      //       })\r\n      //     })\r\n      //     console.log('###############################start1',firebase.apps)\r\n      //   //}\r\n      //   //let messaging = firebase.messaging()\r\n      //   //firebase.app();\r\n      //   //const FIREBASE_MESSAGING = firebase.messaging();\r\n      //   //firebase.messaging().subscribeToTopic('aaquib@121')\r\n      //   console.log('###############################start2')\r\n      //   //const messaging = firebase.messaging();\r\n      //   admin.messaging().subscribeToTopic([localStorage.getItem('fcmtoken')], 'aaquib121')\r\n      // .then(function(response) {\r\n      //   // See the MessagingTopicManagementResponse reference documentation\r\n      //   // for the contents of response.\r\n      //   console.log('###############################Successfully subscribed to topic:', response);\r\n\r\n      // })\r\n      // .catch(function(error) {\r\n      //   console.log('########################Error subscribing to topic:', error);\r\n      // });\r\n      // console.log('###############################star3')\r\n    } catch (e) {\r\n      console.log(\"###############################star4\", e);\r\n    }\r\n  }\r\n\r\n  handleSubmit(e) {\r\n    this.setState({ errorMsg: \"\" });\r\n    this.setState({ isSubmit: true, loginText: \"Signing In...\" });\r\n    if (this.state.mobileNo === \"\" || this.state.password === \"\") {\r\n      this.setState({ errorMsg: \"Invalid Credentials !\" });\r\n      // } else if(this.state.mobileNo.length !== 10){\r\n      //   this.setState({ errorMsg: \"Username must be of 10 characters only !\" });\r\n      // } else if(isNaN(this.state.mobileNo)){\r\n      //   this.setState({ errorMsg: \"Username must be numeric only !\" });\r\n      // }  else if(!(/^[0-9]+$/.test(this.state.mobileNo))) {\r\n      //   this.setState({ errorMsg: \"Username must be numeric only !\" })\r\n    } else {\r\n      //console.log()\r\n      //user = {\r\n      // \"password\": \"123\",\r\n      // \"user\": \"aaquib123\"\r\n      //}\r\n      axios\r\n        .post(\"/backendapi/user/login\", {\r\n          user: this.state.mobileNo.trim(),\r\n          password: this.state.password.trim(),\r\n        })\r\n        .then((res) => {\r\n          console.log(\"Aaquib sss\", res);\r\n          if (\r\n            res.data.length > 0 &&\r\n            res.data[0].status !== \"emailNotConfirmed\"\r\n          ) {\r\n            const resp = res.data[0];\r\n            this.setState({ errorMsg: \"\", loggedIn: true });\r\n            console.log(\"################# login\", resp.toString());\r\n            var d = new Date(resp.attendanceDt);\r\n            d.setHours(0, 0, 0, 0);\r\n\r\n            var e = new Date();\r\n            e.setHours(0, 0, 0, 0);\r\n            console.log(\"################# login\", d, e);\r\n            let flag = false;\r\n            if (d.getTime() === e.getTime()) {\r\n              flag = true;\r\n            }\r\n            localStorage.setItem(\"logInUserData\", JSON.stringify(resp));\r\n            localStorage.setItem(\"logInGreeting\", true);\r\n            localStorage.setItem('theme', 'dark');\r\n            this.subscribe(resp.email);\r\n            this.props.history.push(\"/dashboard\");\r\n            window.location.reload();\r\n            //   let userRole = '';\r\n            //   if(resp.type === 'T') {\r\n            //     userRole='Teacher';\r\n            //   } else if(resp.type === 'A') {\r\n            //     userRole='Admin';\r\n            //   } else {\r\n            //     userRole='Spark';\r\n            //   }\r\n            //   axios\r\n            // .post(\"/api/school/getsch\",{sch:resp.sch})\r\n            // .then(res3 => {\r\n            //   console.log(\"########### sch wa\", res3.data[0].name);\r\n            //   const logo= res3.data[0].logo;\r\n            //   const schName=res3.data[0].name;\r\n\r\n            //   var user = {\r\n            //     \"userLoginId\": resp.roleId,\r\n            //     \"id\": resp._id,\r\n            //     \"userRole\":userRole,\r\n            //     \"clas\": resp.clas,\r\n            //     \"userName\": resp.name,\r\n            //     \"sch\": resp.sch,\r\n            //     \"todayAttendance\": flag,\r\n            //     \"lastAtdDate\": d,\r\n            //     \"firstLogin\": resp.firstLogin,\r\n            //     \"pwd\": resp.pwd,\r\n            //     \"logo\": logo,\r\n            //     \"schName\": schName,\r\n            //   }\r\n            //   //this.props.userLogin(userLoginCredobj);\r\n            //   localStorage.setItem('logInUserData', JSON.stringify(user));\r\n            //   if(resp.type === 'T') {\r\n            //     this.props.history.push(\"/teachers\");\r\n            //   } else if(resp.type === 'A') {\r\n            //     this.props.history.push(\"/admin\");\r\n            //   } else {\r\n            //     this.props.history.push(\"/teachers\");\r\n            //   }\r\n            // });\r\n          } else if (res.data[0].status === \"emailNotConfirmed\") {\r\n            const userkey = this.props.routerProps.match.params.userkey;\r\n            if (res.data[0].status === userkey) {\r\n              const resp = res.data[0];\r\n              this.setState({ errorMsg: \"\", loggedIn: true });\r\n              console.log(\"################# login\", resp.toString());\r\n              var d = new Date(resp.attendanceDt);\r\n              d.setHours(0, 0, 0, 0);\r\n\r\n              var e = new Date();\r\n              e.setHours(0, 0, 0, 0);\r\n              console.log(\"################# login\", d, e);\r\n              let flag = false;\r\n              if (d.getTime() === e.getTime()) {\r\n                flag = true;\r\n              }\r\n              localStorage.setItem(\"logInUserData\", JSON.stringify(resp));\r\n              localStorage.setItem(\"logInGreeting\", true);\r\n              this.subscribe(resp.email);\r\n              this.props.history.push(\"/dashboard\");\r\n              axios\r\n                .post(\"/backendapi/update/login\", res.data[0])\r\n                .then((res) => {});\r\n              window.location.reload();\r\n            } else {\r\n              this.setState({\r\n                errorMsg: \"Please confirm your email for log in !! \",\r\n                loginText: \"Sign In\",\r\n              });\r\n            }\r\n          } else {\r\n            this.setState({\r\n              errorMsg: \"Inavlid Credentials\",\r\n              loginText: \"Sign In\",\r\n            });\r\n          }\r\n          //this.setState({\r\n          //  allDepartmentsForSiblingCommunication: res.data\r\n          //});\r\n        })\r\n        .catch((error) => {\r\n          //console.log(\"Error\",error.response.status);\r\n          if (error.response && error.response.status === 401) {\r\n            this.setState({\r\n              errorMsg: \"Inavlid Credentials\",\r\n              loginText: \"Sign In\",\r\n            });\r\n          } else {\r\n            console.log(\"Aaquib\");\r\n            this.setState({\r\n              errorMsg: \"Something went Wrong ! Contact Your admin\",\r\n              loginText: \"Sign In\",\r\n            });\r\n          }\r\n        });\r\n      //aaq\r\n      //this.props.userLogin(userLoginCredobj);\r\n      //localStorage.setItem('logInUserData', JSON.stringify(user));\r\n    }\r\n  }\r\n\r\n  _handleKeyDownLogin = (event) => {\r\n    if (event.which === 13 || event.keyCode === 13) {\r\n      if (this._isMounted) {\r\n        this.handleSubmit();\r\n      }\r\n    }\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.addEventListener(\"keydown\", this._handleKeyDownLogin);\r\n    this._isMounted = true;\r\n  }\r\n\r\n  render() {\r\n    if (\r\n      localStorage.getItem(\"logInUserData\") !== \"\" &&\r\n      localStorage.getItem(\"logInUserData\") !== null\r\n    ) {\r\n      var logInUserData = JSON.parse(localStorage.getItem(\"logInUserData\"));\r\n      if (logInUserData !== null) {\r\n        this.props.history.push(\"/dashboard\");\r\n        // //if(logInUserData.userLastLogin != null){\r\n        //   if(logInUserData.userRole === \"CMT\" ||\r\n        //     logInUserData.userRole === \"SM\") {\r\n        //       localStorage.setItem('selectedMenu', 'reports');\r\n        //       this.props.history.push(\"/reports\");\r\n        //   } else {\r\n        //     localStorage.setItem('selectedMenu', 'leads');\r\n        //     this.props.history.push(\"/leads\");\r\n        //   }\r\n        //} else{\r\n        //  this.props.history.push(\"/firstlogin\");\r\n        //}\r\n      }\r\n    }\r\n    // } else if(sessionStorage.getItem('logInUserData') !== '' && sessionStorage.getItem('logInUserData') !== null) {\r\n    //   this.props.history.push(\"/gdpr\");\r\n    // }\r\n\r\n    let isApiLoading = this.props.isLoading;\r\n    let isApiError = this.props.isError;\r\n    let apiResponseStatus = this.props.status;\r\n    let apiResponseData = this.props.responseData;\r\n    let customMsg = \"\";\r\n    if (!isApiError && apiResponseStatus === 200) {\r\n      customMsg = \"\";\r\n    } else if (isApiError && apiResponseStatus === 401) {\r\n      customMsg = apiResponseData.fault.businessMessage;\r\n    } else if (\r\n      isApiError &&\r\n      ((apiResponseStatus !== 200 && apiResponseStatus !== 401) ||\r\n        apiResponseStatus === \"\")\r\n    ) {\r\n      customMsg = \"Some error occurred. Please try again later !\";\r\n    }\r\n    //setInterval(this.updateGradient(),5);\r\n\r\n    return (\r\n      <div className=\"test1\">\r\n        <div className=\"login-page\">\r\n          <div className=\"form\">\r\n            {/* <div className=\"test1\"></div> */}\r\n            <form className=\"register-form\">\r\n              <input type=\"text\" placeholder=\"name\" />\r\n              <input type=\"password\" placeholder=\"password\" />\r\n              <input type=\"text\" placeholder=\"email address\" />\r\n              <button>create</button>\r\n              <p className=\"message\">\r\n                Already registered? <a href=\"#\">Sign In</a>\r\n              </p>\r\n            </form>\r\n            {/* <img src=\"https://image.ibb.co/nay3co/logo2.jpg\" className=\"logo12\" /> */}\r\n            <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n              <img src={Logo} className=\"logo12\" />{\" \"}\r\n              <h2 style={{ color: \"#2c2c2c\", fontWeight: \"700\" }}>\r\n                {\" \"}\r\n                Last Arzi\r\n              </h2>\r\n            </div>\r\n            <h5 style={{ color: \"red\" }}>{this.state.errorMsg}</h5>\r\n            <div className=\"login-form\">\r\n              <input\r\n                type=\"text\"\r\n                name=\"user\"\r\n                placeholder=\"Username\"\r\n                onChange={this.handleChangeUsername}\r\n              />\r\n              <input\r\n                type=\"password\"\r\n                name=\"password\"\r\n                placeholder=\"Password\"\r\n                onChange={this.handleChangePassword}\r\n              />\r\n              <button onClick={this.handleSubmit}>\r\n                {this.state.loginText}\r\n              </button>\r\n              <p className=\"message\">\r\n                {\" \"}\r\n                Need an account?{\" \"}\r\n                <div\r\n                  style={{ color: \"#4CAF50\" }}\r\n                  onClick={() => {\r\n                    this.props.history.push(\"/register\");\r\n                  }}\r\n                >\r\n                  SIGN UP\r\n                </div>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAApCAIAAAAu6TfbAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAJ/SURBVFhH7ZdN63FREMC9K5KFKGFjqbtQbGRrqSwtyAeQkoWllQ2fQolSvoSFsiHFAiV2ykIpl/L+H3dO13N7Lvdcb/+eHr+NmTnXnTFznDmjPJ/PCo7FYsGyrFqtRvWtgNP9fu92u4kOgAkJh8PE9CmIYw4VsSkUZrOZSL/BtS7xeLxarYJgt9tNJpPRaFQqlZC91WqFDzwPvHC73c5mM1R51xe4rFyIxWJoGQ6HoObz+VwuV6vVcPVVTKdT9AIQE4dIPnq9Xr1ehzjQjg8wDLPb7VSqax3pORwOTqez0WiA3Ol0/H4/2nnXFy7BcPD56Ha7lUoFZYfDAUvH4xHVZ0Av7Xab6MJ8iP++0+mEAibgsTTIQkM+6Uin05lMZr1eE/0uWq12MBhEIhGi34fkRViXcrmMssvlwlVUC4UCqpSMx2P8IoAWeXW5hdyNAlubSFK8vfCUfOMQ8m/GAQ2CSHTQPy8vDjgSiESHXq8nkhTy4shms/AT6RHcdO7y3adC5PWXZDKZSqXo+8toNIpGo0S/Dznf6fpLsVhElZJ39Re40RCJjm9/eZRvHEL+jzj4+7YkVHHwr4PxDgVKrFYrkaSgigPmhmAw6PV6DQYDMdFhs9lYlp3P53BSEdMNJOLgJ5dmswnnLPRbVOmBORmiIcptROZK8Nfv9xOJBMgWi6VUKi2XS+6RB4FTGPpDKBQCWd5cyfeXVxEIBNCLvP6y2WyI9CIkBx/xusCWbLVaOp0Ol54E/mU+nw/vlDBpejwetPOuAZE4YIJlGAZudWh/CRAK7BKNRjOZTODygMY/4xDZHx+DOOa47g/6s+8dXOPA+sGB8QH+Lvp1f/wmCsUPfd5t0k04CEkAAAAASUVORK5CYII=\""],"sourceRoot":""}