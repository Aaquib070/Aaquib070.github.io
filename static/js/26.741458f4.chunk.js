(this.webpackJsonplastArzi=this.webpackJsonplastArzi||[]).push([[26],{611:function(e,t,a){"use strict";a.r(t);var l=a(18),n=a.n(l),i=a(26),o=a(7),s=a(0),r=a.n(s),c=a(514),d=a(16),u=a(442),m=a(405),v=a(576),b=a(478),y=a(479),p=a(463),g=a(476),f=a(477),E=a(441),h=a(408),O=a(147),k=a(246),N=a(148),x=a(79),S=a(451),j=a(434),C=a(435),A=a(8),D=a.n(A),L=a(464),F=a(462),I=a(480),w={Advances:[{key:"Lendor Details",val:"",type:"Text",mandatory:!0},{key:"Amount",val:"",type:"Number",mandatory:!0},{key:"Remarks",val:"",type:"Text"},{key:"Attachments",val:"",type:"File"}],"Credit Card":[{key:"Card Details *",val:"",type:"Text",mandatory:!0},{key:"Account Details *",val:"",type:"Text",mandatory:!0},{key:"Amount",val:"",type:"Number"},{key:"Remarks",val:"",type:"Text"},{key:"Attachments",val:"",type:"File"}],EMI:[{key:"EMI Details *",val:"",type:"Text",mandatory:!0},{key:"Account Details *",val:"",type:"Text",mandatory:!0},{key:"Amount",val:"",type:"Number"},{key:"Remarks",val:"",type:"Text"},{key:"Attachments",val:"",type:"File"}],"Loan & Mortgages":[{key:"Loan Details*",val:"",type:"Text",mandatory:!0},{key:"Account Details *",val:"",type:"Number",mandatory:!0},{key:"Amount *",val:"",type:"Number",mandatory:!0},{key:"Remarks",val:"",type:"Text"},{key:"Attachments",val:"",type:"File"}],"Ponzi Schemes":[{key:"Scheme Details *",val:"",type:"Text",mandatory:!0},{key:"Account Details *",val:"",type:"Text",mandatory:!0},{key:"Amount *",val:"",type:"Number",mandatory:!0},{key:"Remarks",val:"",type:"Text"},{key:"Attachments",val:"",type:"File"}],"Recurring Payments":[{key:"Payments Details *",val:"",type:"Text",mandatory:!0},{key:"Account Details *",val:"",type:"Number",mandatory:!0},{key:"Amount *",val:"",type:"Number",mandatory:!0},{key:"Remarks",val:"",type:"Text"},{key:"Attachments",val:"",type:"File"}],Others:[{key:"Liability Name",val:"",type:"Text"},{key:"Amount",val:"",type:"Number",mandatory:!0},{key:"Remarks",val:"",type:"Text"},{key:"Attachments",val:"",type:"File"}]},T=a(23),R=a.n(T),B=a(15),M=a(80),P=(a(455),a(454),a(457),a(459)),z=a(58),J=a(17),_=a(499),U=a(475),V=a(601),H=(a(460),a(247),a(474)),K=a(150),W=[{value:"Text",label:"Text",color:"#00B8D9",isFixed:!0},{value:"textarea",label:"Text Area",color:"#0052CC",isFixed:!0},{value:"Date",label:"Date",color:"#0052CC",isFixed:!0},{value:"Number",label:"Number",color:"#0052CC",isFixed:!0}];t.default=Object(B.b)((function(e){var t,a;return{dataList:e.dataList,messages:null===e||void 0===e||null===(t=e.customizer)||void 0===t||null===(a=t.language)||void 0===a?void 0:a.Liability,listLoading:e.dataList.totalRecordsLoading}}),{getData:P.f,addData:P.a})((function(e){var t,a,l,A,T,B,P,q,G,Q,X,Y,Z,$,ee,te,ae,le,ne,ie,oe,se,re,ce,de,ue,me,ve,be,ye,pe=[{value:"Advances",label:(null===(t=e.messages)||void 0===t||null===(a=t.colorOption)||void 0===a?void 0:a.Advances)?null===(l=e.messages)||void 0===l||null===(A=l.colorOption)||void 0===A?void 0:A.Advances:"Advances",color:"#0052CC",isFixed:!0},{value:"Credit Card",label:(null===(T=e.messages)||void 0===T||null===(B=T.colorOption)||void 0===B?void 0:B["Credit Card"])?null===(P=e.messages)||void 0===P||null===(q=P.colorOption)||void 0===q?void 0:q["Credit Card"]:"Credit Card",color:"#0052CC",isFixed:!0},{value:"EMI",label:(null===(G=e.messages)||void 0===G||null===(Q=G.colorOption)||void 0===Q?void 0:Q.EMI)?null===(X=e.messages)||void 0===X||null===(Y=X.colorOption)||void 0===Y?void 0:Y.EMI:"EMI",color:"#0052CC",isFixed:!0},{value:"Loan & Mortgages",label:(null===(Z=e.messages)||void 0===Z||null===($=Z.colorOption)||void 0===$?void 0:$["Loan & Mortgages"])?null===(ee=e.messages)||void 0===ee||null===(te=ee.colorOption)||void 0===te?void 0:te["Loan & Mortgages"]:"Loan & Mortgages",color:"#00B8D9",isFixed:!0},{value:"Ponzi Schemes",label:(null===(ae=e.messages)||void 0===ae||null===(le=ae.colorOption)||void 0===le?void 0:le["Ponzi Schemes"])?null===(ne=e.messages)||void 0===ne||null===(ie=ne.colorOption)||void 0===ie?void 0:ie["Ponzi Schemes"]:"Ponzi Schemes",color:"#0052CC",isFixed:!0},{value:"Recurring Payments",label:(null===(oe=e.messages)||void 0===oe||null===(se=oe.colorOption)||void 0===se?void 0:se["Recurring Payments"])?null===(re=e.messages)||void 0===re||null===(ce=re.colorOption)||void 0===ce?void 0:ce["Recurring Payments"]:"Recurring Payments",color:"#0052CC",isFixed:!0},{value:"Others",label:(null===(de=e.messages)||void 0===de||null===(ue=de.colorOption)||void 0===ue?void 0:ue.Others)?null===(me=e.messages)||void 0===me||null===(ve=me.colorOption)||void 0===ve?void 0:ve.Others:"Others",color:"#0052CC",isFixed:!0}],ge=(null===(be=e.messages)||void 0===be?void 0:be.liabilityOption)?null===(ye=e.messages)||void 0===ye?void 0:ye.liabilityOption:JSON.parse(JSON.stringify(w)),fe=r.a.createRef(),Ee=r.a.createRef(),he=r.a.createRef(),Oe=Object(s.useState)(!1),ke=Object(o.a)(Oe,2),Ne=ke[0],xe=ke[1],Se=Object(s.useState)(!1),je=Object(o.a)(Se,2),Ce=je[0],Ae=je[1],De=Object(s.useState)(null),Le=Object(o.a)(De,2),Fe=Le[0],Ie=Le[1],we=Object(s.useState)(""),Te=Object(o.a)(we,2),Re=Te[0],Be=Te[1],Me=Object(s.useState)(""),Pe=Object(o.a)(Me,2),ze=Pe[0],Je=Pe[1],_e=Object(s.useState)(!0),Ue=Object(o.a)(_e,2),Ve=Ue[0],He=Ue[1],Ke=Object(s.useState)([]),We=Object(o.a)(Ke,2),qe=We[0],Ge=We[1],Qe=Object(s.useState)(""),Xe=Object(o.a)(Qe,2),Ye=Xe[0],Ze=Xe[1],$e=Object(s.useState)(!1),et=Object(o.a)($e,2),tt=et[0],at=et[1],lt=Object(s.useState)(!1),nt=Object(o.a)(lt,2),it=nt[0],ot=nt[1],st=Object(s.useState)(null),rt=Object(o.a)(st,2),ct=rt[0],dt=rt[1],ut=Object(s.useState)(!1),mt=Object(o.a)(ut,2),vt=mt[0],bt=mt[1],yt=Object(s.useState)([]),pt=Object(o.a)(yt,2),gt=pt[0],ft=pt[1],Et=Object(s.useState)(!1),ht=Object(o.a)(Et,2),Ot=ht[0],kt=ht[1],Nt=Object(s.useState)([]),xt=Object(o.a)(Nt,2),St=xt[0],jt=xt[1],Ct=Object(s.useState)(!1),At=Object(o.a)(Ct,2),Dt=At[0],Lt=At[1],Ft=Object(s.useState)(""),It=Object(o.a)(Ft,2),wt=It[0],Tt=It[1],Rt=Object(s.useState)(!0),Bt=Object(o.a)(Rt,2),Mt=Bt[0],Pt=Bt[1],zt=Object(s.useState)([{value:"Add Nominee",label:"Add Nominee",color:"#00B8D9",isFixed:!1}]),Jt=Object(o.a)(zt,2),_t=Jt[0],Ut=Jt[1];Object(s.useEffect)((function(){if(e.dataList.data.length){var t=[{value:"Add Nominee",label:"Add Nominee",color:"#00B8D9",isFixed:!1}];e.dataList.data.forEach((function(e){var a={value:e._id,label:"".concat(e.name," - ").concat(e.relation),color:"#00B8D9",isFixed:!1};t.push(a)})),Ut(t),Kt()}}),[e.dataList]),Object(s.useEffect)((function(){!e.listLoading&&e.getData(),Kt()}),[]);var Vt=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];at(e),!0===t&&(dt(null),ot(!0))},Ht=function(){var t=Object(i.a)(n.a.mark((function t(a){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return bt(!0),t.prev=1,t.next=4,e.addData(a);case 4:bt(!1),Vt(!1,!0),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),bt(!1),M.b.error("Add Nominee Failed! Please contact admin");case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),Kt=function(){var t=JSON.parse(sessionStorage.getItem("logInUserData"));R.a.get("/backendapi/user/liabilities/"+t._id,{headers:{Authorization:"Bearer "+sessionStorage.getItem("authtoken")}}).then((function(a){var l,n=a?a.data:[];n.splice(0,n.length),(null===t||void 0===t||null===(l=t.liabilities)||void 0===l?void 0:l.length)&&t.liabilities.forEach((function(t,a){if(t.id){var l,i="";(null===t||void 0===t||null===(l=t.nominees)||void 0===l?void 0:l.length)&&t.nominees.forEach((function(a,l){var n=e.dataList.data.filter((function(e){return e._id===a.id}));n.length&&(l===t.nominees.length-1?i+=n[0].name:i=i+n[0].name+", ")}));var o=r.a.createElement("div",null,r.a.createElement(u.a,null,t.liabilityDetails.map((function(e,t){return""!==e.val?r.a.createElement(m.a,{md:"5",sm:"12",key:t+e.key},r.a.createElement(v.a,null,r.a.createElement("b",null,e.key," :")," ",Ve?e.val:"***********")):""})),r.a.createElement(m.a,{md:"5",sm:"12"},r.a.createElement(v.a,null,r.a.createElement("b",null,"Nominees :")," ",Ve?i:"*******************")),r.a.createElement(m.a,{md:"2",sm:"12"},r.a.createElement(v.a,null,r.a.createElement("b",null,r.a.createElement(_.a,{className:"cursor-pointer mr-1",size:window.screen.width<500?13:20,onClick:function(){Xt(t)}})),r.a.createElement("b",null,r.a.createElement(U.a,{className:"cursor-pointer",size:window.screen.width<500?13:20,onClick:function(){Ie(t.id),xe(!0)}})))))),s={id:a+1,title:t.liabilityType,content:o};n.push(s)}})),Ge(null===n||void 0===n?void 0:n.reverse())}))},Wt=function(){kt(!Ot)},qt=function(e,t){var a=St,l=a.findIndex((function(e){return e.key===t.key}));e.length<50&&(a[l].val=e,jt(a),function(){var e=!1;St.forEach((function(t){t.mandatory&&!t.val&&(e=!0)})),Pt(e)}(),Ae(!Ce))},Gt=function(){fe.current.select.clearValue(),Ee.current.select.clearValue(),Ze(""),jt([]),ft([]),Dt&&Pt(!0)},Qt=function(){Be(""),Je(""),he.current&&he.current.select.clearValue()},Xt=function(e){var t=e.liabilityDetails,a=e.liabilityType,l=e.nominees;Ze(a),Lt(!0),Tt(e.id),jt(t),ft(l)},Yt=function(e){e?(document.getElementById("buttonLabel").classList.remove("no-display"),document.getElementById("buttonLabel").classList.add("button-text")):(document.getElementById("buttonLabel").classList.add("no-display"),document.getElementById("buttonLabel").classList.remove("button-text"))},Zt=e.messages,$t=e.thumbView,ea=e.getData,ta=e.parsedFilter;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"warning spacing nodisplay"},(null===Zt||void 0===Zt?void 0:Zt.heading)?Zt.heading:"Liabilties"),r.a.createElement(u.a,null,r.a.createElement(m.a,{sm:"12"},r.a.createElement("div",{className:"data-list ".concat($t?"thumb-view":"list-view")},r.a.createElement(F.a,{modalMessage:"Are you sure you want to delete this record?",handleConfirm:function(){!function(t){var a=JSON.parse(sessionStorage.getItem("logInUserData")),l=a.liabilities.findIndex((function(e){return e.id===t})),n=[];l>=0&&(a.liabilities[l].nominees.forEach((function(e){e.objectid=a.liabilities[l].id,n.push(e)})),a.liabilities.splice(l,1),R.a.post("/backendapi/adddetails",{_id:a._id,liabilities:Object(d.b)(JSON.stringify(a.liabilities)),deletednominee:n},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(t){e.getData(e.parsedFilter),Kt()})).catch(),sessionStorage.setItem("logInUserData",JSON.stringify(a)),M.b.warning("Liability deleted successfully!"),Gt(),Qt(),Pt(!0))}(Fe),xe(!1)},isOpen:Ne,closeModal:function(){return xe(!1)}}),r.a.createElement(H.a,{show:tt,data:ct,updateData:e.updateData,addData:Ht,isLoading:vt,handleSidebar:Vt,thumbView:$t,getData:ea,dataParams:ta,addNew:it}),r.a.createElement("div",{className:D()("data-list-overlay",{show:tt}),onClick:function(){return Vt(!1,!0)}}),r.a.createElement(u.a,null,r.a.createElement(m.a,{lg:"8",md:"6",sm:"12"},r.a.createElement("div",{style:{width:window.screen.width<500?"100%":"150%"}},r.a.createElement(u.a,null,r.a.createElement(m.a,{sm:"12"},r.a.createElement(b.a,{activeTab:"1"},r.a.createElement(y.a,{tabId:"1"},r.a.createElement(u.a,null,r.a.createElement(M.a,null),r.a.createElement(m.a,{lg:"8",md:"6",sm:"12"},r.a.createElement(p.a,null,r.a.createElement(g.a,null,r.a.createElement(f.a,null,(null===Zt||void 0===Zt?void 0:Zt.subHeading)?Zt.subHeading:Dt?"Edit Liability Details":"Add New Liability")),r.a.createElement(E.a,null,r.a.createElement(h.a,null,r.a.createElement(u.a,null,r.a.createElement(m.a,{md:"6",sm:"12"},r.a.createElement(O.a,{className:"form-label-group"},r.a.createElement(z.a,{className:"React",classNamePrefix:"select",ref:fe,name:"color",options:pe,isClearable:!0,isDisabled:Dt,value:pe.filter((function(e){return e.value===Ye})),placeholder:(null===Zt||void 0===Zt?void 0:Zt.liabilityOptionText)?null===Zt||void 0===Zt?void 0:Zt.liabilityOptionText:"Select Liability Type...",onChange:function(e){!function(e){Pt(!0),Be(""),Je(""),Ze(e?e.value:void 0),jt(e?ge[e.value]:{})}(e)}}),r.a.createElement(k.a,{for:"nameMulti"},"Liability Type"))),r.a.createElement(m.a,{md:"6",sm:"12"},r.a.createElement(O.a,{className:"form-label-group"},r.a.createElement(z.a,{isMulti:!0,name:"nominee",options:_t,value:gt.map((function(e){var t=_t.filter((function(t){return t.value===e.id}));return{value:t[0].value,label:t[0].label}})),ref:Ee,className:"React",classNamePrefix:"select",placeholder:(null===Zt||void 0===Zt?void 0:Zt.nomineeOption)?null===Zt||void 0===Zt?void 0:Zt.nomineeOption:"Select Nominees...",id:"nominee",onChange:function(e){!function(e){Dt&&Pt(!1);var t=[];(null===e||void 0===e?void 0:e.length)&&e.forEach((function(e){"Add Nominee"===e.value?at(!0):t.push({id:e.value,name:e.label})})),!e&&Pt(!0),ft(t)}(e)}}),r.a.createElement(k.a,null,"Nominee")))),r.a.createElement(u.a,null,Object.keys(ge).includes(Ye)&&St.length&&St.map((function(e,t){return r.a.createElement(m.a,{md:"6",sm:"12",key:t},r.a.createElement(O.a,{className:"form-label-group"},e.deletable&&r.a.createElement(V.a,{style:{position:"absolute",right:"-5px",top:"-7px"},className:"primary",size:15,onClick:function(){!function(e){Dt&&Pt(!1);var t=St.filter((function(t){return e.key!==t.key}));jt(t)}(e)}}),r.a.createElement(N.a,{type:e.type,onKeyPress:function(t){return"number"===e.type&&Object(K.a)(t)},name:e.key,id:e.id,className:"input-label",placeholder:e.key,value:e.val,onChange:function(t){qt(t.target?t.target.value:t.value,e)}}),r.a.createElement(k.a,{for:e.id,className:"dark"===J.a.theme?"dark-label":"light-label"},e.key)))}))),r.a.createElement(u.a,{style:{marginTop:"15px"}},r.a.createElement(m.a,{md:"6",sm:"12",style:{display:"flex"}},Ye&&r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{color:"white",outline:!0,onClick:Wt,className:"add-button",id:"addButton",onMouseEnter:function(){return Yt(!0)},onMouseLeave:function(){return Yt(!1)},style:{backgroundColor:"var(--warning)"}},"+"),r.a.createElement("div",{className:"label-div"},r.a.createElement("span",{id:"buttonLabel",className:"no-display"},"Add a Custom Field")))),r.a.createElement(m.a,{sm:"6"},r.a.createElement(O.a,{className:"action-right",style:{textAlign:"right",marginBottom:"0px"}},r.a.createElement(x.a.Ripple,{outline:!0,color:"secondary",type:"reset",className:"button-label",onClick:function(e){Lt(!1),Gt()}},Dt?"Cancel":(null===Zt||void 0===Zt?void 0:Zt.resetButton)?null===Zt||void 0===Zt?void 0:Zt.resetButton:"Reset"),r.a.createElement(x.a.Ripple,{color:"warning",type:"submit",className:"button-label",disabled:0===gt.length||!Ye||Mt,onClick:function(t){Dt?function(t){t.preventDefault(),Lt(!1);var a=JSON.parse(sessionStorage.getItem("logInUserData")),l={liabilityType:Ye,liabilityDetails:St,nominees:gt,id:wt},n=a.liabilities.findIndex((function(e){return e.id===wt}));n>=0&&(a.liabilities.splice(n,1),a.liabilities.push(l),sessionStorage.setItem("logInUserData",JSON.stringify(a)),R.a.post("/backendapi/adddetails",{_id:a._id,liabilities:Object(d.b)(JSON.stringify(a.liabilities))},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(t){M.b.success("Edited successfully!"),e.getData(e.parsedFilter),Kt()})).catch(),Gt(),Qt(),Pt(!0))}(t):function(t){t.preventDefault();var a=JSON.parse(sessionStorage.getItem("logInUserData")),l={liabilityType:Ye,liabilityDetails:St,nominees:gt,id:Object(c.v4)()};gt.forEach((function(e){e.objectid=l.id})),a.liabilities.push(l),R.a.post("/backendapi/adddetails",{_id:a._id,liabilities:Object(d.b)(JSON.stringify(a.liabilities))},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("authtoken"))}}).then((function(t){e.getData(e.parsedFilter),Kt()})).catch(),sessionStorage.setItem("logInUserData",JSON.stringify(a)),M.b.success("Liability addedd successfully!"),Gt(),Qt(),Pt(!0)}(t)}},Dt?"Update":(null===Zt||void 0===Zt?void 0:Zt.submitButton)?null===Zt||void 0===Zt?void 0:Zt.submitButton:"Add"))))))))),r.a.createElement(u.a,null,r.a.createElement(M.a,null),r.a.createElement(m.a,{md:"8"},r.a.createElement(I.c,{heading:(null===Zt||void 0===Zt?void 0:Zt.subHeading)?Zt.subHeading:"Liabilities List",isLoading:e.listLoading,collapseItems:qe,show:function(){He(!Ve),Kt()},assetShow:Ve}))))))))),r.a.createElement(L.a,null)," "),r.a.createElement(u.a,null,r.a.createElement(m.a,{sm:"12"},r.a.createElement(S.a,{isOpen:Ot,toggle:Wt,centered:!0},r.a.createElement(j.a,{toggle:Wt,tag:"div",style:{color:"var(--warning)",fontSize:"1.45rem",fontWeight:"bold",letterSpacing:"1px",justifyContent:"center"}},"Add Custom Field"),r.a.createElement(C.a,null,r.a.createElement(O.a,{className:"form-label-group"},r.a.createElement(N.a,{type:"email",name:"Email",disabled:""===Ye,id:"EmailMulti",value:Re,placeholder:"Enter Field Name",onChange:function(e){Be(e.target.value)}}),r.a.createElement(k.a,{for:"EmailMulti"},"Enter Field Name")),r.a.createElement(O.a,{className:"form-label-group",disabled:void 0===Ye},r.a.createElement(z.a,{className:"React",ref:he,disabled:void 0===Ye,classNamePrefix:"select",isClearable:!0,name:"color",options:W,placeholder:"Select Field Type...",onChange:function(e){return Je(e?e.value:" ")}}),r.a.createElement(k.a,{for:"nameMulti"},"Field Type")),r.a.createElement(O.a,{className:"form-label-group mb-0",style:{textAlign:"right"}},r.a.createElement(x.a.Ripple,{outline:!0,color:"secondary",type:"reset",className:"mb-1 button-label",disabled:void 0===Ye,onClick:function(e){Qt()}},(null===Zt||void 0===Zt?void 0:Zt.resetButton)?null===Zt||void 0===Zt?void 0:Zt.resetButton:"Reset")," ",r.a.createElement(x.a.Ripple,{color:"warning",disabled:""===Re||""===ze,type:"submit",className:"button-label",onClick:function(e){return function(){if(""!==Ye){var e=St,t=e.length,a="";if(e.findIndex((function(e){return e.key===Re+ze}))>=0)return void M.b.error("Field Already Exist! Please add new field");"Attachments"===St[t-1].key?(a=e[t-1],e[t-1]={key:Re+ze,val:"",type:ze,deletable:!0},e.push(a),jt(e),Be(""),Je("")):(e.push({key:Re+ze,val:"",type:ze,deletable:!0}),jt(e),Be(""),Je("")),Wt()}}()}},(null===Zt||void 0===Zt?void 0:Zt.submitButton)?null===Zt||void 0===Zt?void 0:Zt.submitButton:"Add"))))))))))}))}}]);