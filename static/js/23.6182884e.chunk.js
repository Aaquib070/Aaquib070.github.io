(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[23],{475:function(e,a,t){},479:function(e,a,t){"use strict";t.d(a,"d",(function(){return u})),t.d(a,"e",(function(){return m})),t.d(a,"f",(function(){return h})),t.d(a,"c",(function(){return g})),t.d(a,"b",(function(){return b})),t.d(a,"a",(function(){return v})),t.d(a,"g",(function(){return f}));var n=t(36),r=t.n(n),l=t(55),o=t(486),i=t(31),s=t.n(i),c=t(471),d=t(32);s.a.defaults.baseURL="https://lastarzi2.herokuapp.com";var p=function(e){var a,t=Object(o.a)(null===e||void 0===e?void 0:e.data);try{for(t.s();!(a=t.n()).done;){var n=a.value;(null===n||void 0===n?void 0:n.spendId)&&(n.spendId=Object(d.a)(null===n||void 0===n?void 0:n.spendId)),(null===n||void 0===n?void 0:n.item)&&(n.item=Object(d.a)(null===n||void 0===n?void 0:n.item)),(null===n||void 0===n?void 0:n.label)&&(n.label=Object(d.a)(null===n||void 0===n?void 0:n.label)),(null===n||void 0===n?void 0:n.amount)&&(n.amount=Object(d.a)(null===n||void 0===n?void 0:n.amount)),(null===n||void 0===n?void 0:n.desc)&&(n.desc=Object(d.a)(null===n||void 0===n?void 0:n.desc))}}catch(r){t.e(r)}finally{t.f()}return e},u=function(e){return function(){var a=Object(l.a)(r.a.mark((function a(t){var n;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=localStorage.getItem("logInUserData")?JSON.parse(localStorage.getItem("logInUserData")):{},a.next=3,s.a.get("/backendapi/nominee/list/"+n._id,{params:e,headers:{Authorization:"Bearer "+localStorage.getItem("authtoken")}}).then((function(a){t({type:"GET_ALL_DATA_LOADING",data:!1});var n,r=Object(o.a)(null===a||void 0===a?void 0:a.data);try{for(r.s();!(n=r.n()).done;){var l=n.value;l.nomineeId=(null===l||void 0===l?void 0:l.nomineeId)&&Object(d.a)(l.nomineeId,!0),l.name=(null===l||void 0===l?void 0:l.name)&&Object(d.a)(l.name,!0),l.relation=(null===l||void 0===l?void 0:l.relation)&&Object(d.a)(l.relation,!0),l.email=(null===l||void 0===l?void 0:l.email)&&Object(d.a)(l.email,!0),l.primaryContact=(null===l||void 0===l?void 0:l.primaryContact)&&Object(d.a)(l.primaryContact,!0),l.secondaryContact=(null===l||void 0===l?void 0:l.secondaryContact)&&Object(d.a)(l.secondaryContact,!0),l.address=(null===l||void 0===l?void 0:l.address)&&Object(d.a)(l.address,!0)}}catch(i){r.e(i)}finally{r.f()}t({type:"GET_DATA",data:a.data,totalPages:a.length,params:e})}));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},m=function(e){return function(){var a=Object(l.a)(r.a.mark((function a(t){var n;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=localStorage.getItem("logInUserData")?JSON.parse(localStorage.getItem("logInUserData")):{},a.next=3,s.a.get("/backendapi/spend/list/"+n._id,{params:e,headers:{Authorization:"Bearer "+localStorage.getItem("authtoken")}}).then((function(a){var n;console.log("getSpendData"),t({type:"GET_DATA",data:null===(n=p(a))||void 0===n?void 0:n.data,totalPages:a.length,params:e})}));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},h=function(){var e=localStorage.getItem("logInUserData")?JSON.parse(localStorage.getItem("logInUserData")):{};return function(){var a=Object(l.a)(r.a.mark((function a(t){return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.a.get("/backendapi/spend/list/"+e._id,{headers:{Authorization:"Bearer "+localStorage.getItem("authtoken")}}).then((function(e){var a;t({type:"GET_ALL_DATA",data:null===(a=p(e))||void 0===a?void 0:a.data})}));case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},g=function(e){return function(a){return a({type:"FILTER_DATA",value:e})}},b=function(e){return function(a){console.log("DELETE DATA :"),s.a.post("/backendapi/nominee/delete",e,{headers:{Authorization:"Bearer "+localStorage.getItem("authtoken")}}).then((function(t){a({type:"DELETE_DATA",obj:e})}))}},v=function(e){var a={userId:(localStorage.getItem("logInUserData")?JSON.parse(localStorage.getItem("logInUserData")):{})._id,name:Object(d.b)(e.name,!0),relation:Object(d.b)(e.relation,!0),email:Object(d.b)(e.email,!0),primaryContact:Object(d.b)(e.contact1,!0),secondaryContact:Object(d.b)(e.contact2,!0),address:Object(d.b)(e.address,!0),usage:"Unused"};return"others"===e.relation&&e.relation1&&(a.relation=Object(d.b)(e.relation1,!0)),function(){var e=Object(l.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.post("/backendapi/nominee/add",a,{headers:{Authorization:"Bearer "+localStorage.getItem("authtoken")}}).then((function(e){c.b.success("Nominee Added Successfully"),t(u())}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},f=function(e){var a=localStorage.getItem("logInUserData")?JSON.parse(localStorage.getItem("logInUserData")):{},t={_id:e._id,usage:e.usage?e.usage:"Unused",userId:a._id,name:Object(d.b)(e.name,!0),relation:Object(d.b)(e.relation1,!0),email:Object(d.b)(e.email,!0),primaryContact:Object(d.b)(e.contact1,!0),secondaryContact:Object(d.b)(e.contact2,!0),address:Object(d.b)(e.address,!0)};return function(){var e=Object(l.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.post("/backendapi/nominee/update",t,{headers:{Authorization:"Bearer "+localStorage.getItem("authtoken")}}).then((function(e){c.b.success("Nominee Added Successfully"),a(u())}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()}},480:function(e,a,t){},539:function(e,a,t){"use strict";var n=t(14),r=t(15),l=t(17),o=t(16),i=t(0),s=t.n(i),c=t(393),d=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).closeChip=function(e){e.target.closest(".chip").remove()},e}return Object(r.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"chip ".concat(this.props.className," ").concat(this.props.color?"chip-".concat(this.props.color):null)},s.a.createElement("div",{className:"chip-body"},!this.props.avatarImg&&this.props.avatarText||!this.props.avatarImg&&this.props.avatarIcon?s.a.createElement("div",{className:"avatar ".concat(this.props.avatarColor?"bg-".concat(this.props.avatarColor):null)},s.a.createElement("div",{className:"avatar-content"},this.props.avatarText?this.props.avatarText:null,this.props.avatarIcon?this.props.avatarIcon:null)):this.props.avatarImg?s.a.createElement("div",{className:"avatar"},s.a.createElement("img",{src:this.props.avatarImg,alt:"chipImg",height:"20",width:"20"})):null,s.a.createElement("div",{className:"chip-text"},this.props.text),this.props.closable?s.a.createElement("div",{className:"chip-closable",onClick:function(a){return e.closeChip(a)}},this.props.closableIcon?this.props.closableIcon:s.a.createElement(c.a,null)):null))}}]),t}(s.a.Component);a.a=d},541:function(e,a,t){},668:function(e,a,t){"use strict";t.r(a);var n=t(14),r=t(15),l=t(17),o=t(16),i=t(0),s=t.n(i),c=t(496),d=t(497),p=t(32),u=t(470),m=t(421),h=t(417),g=t(6),b=t(38),v=t(8),f=t(1),S=t.n(f),y=t(5),w=t.n(y),E=t(2);function D(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function O(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?D(Object(t),!0).forEach((function(a){Object(b.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):D(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var N={children:S.a.node,bar:S.a.bool,multi:S.a.bool,tag:E.o,value:S.a.oneOfType([S.a.string,S.a.number]),min:S.a.oneOfType([S.a.string,S.a.number]),max:S.a.oneOfType([S.a.string,S.a.number]),animated:S.a.bool,striped:S.a.bool,color:S.a.string,className:S.a.string,barClassName:S.a.string,cssModule:S.a.object,style:S.a.object,barStyle:S.a.object,barAriaValueText:S.a.string,barAriaLabelledBy:S.a.string},j=function(e){var a=e.children,t=e.className,n=e.barClassName,r=e.cssModule,l=e.value,o=e.min,i=e.max,c=e.animated,d=e.striped,p=e.color,u=e.bar,m=e.multi,h=e.tag,b=e.style,f=e.barStyle,S=e.barAriaValueText,y=e.barAriaLabelledBy,D=Object(v.a)(e,["children","className","barClassName","cssModule","value","min","max","animated","striped","color","bar","multi","tag","style","barStyle","barAriaValueText","barAriaLabelledBy"]),N=Object(E.q)(l)/Object(E.q)(i)*100,j=Object(E.k)(w()(t,"progress"),r),I={className:Object(E.k)(w()("progress-bar",u&&t||n,c?"progress-bar-animated":null,p?"bg-"+p:null,d||c?"progress-bar-striped":null),r),style:O(O(O({},u?b:{}),f),{},{width:N+"%"}),role:"progressbar","aria-valuenow":l,"aria-valuemin":o,"aria-valuemax":i,"aria-valuetext":S,"aria-labelledby":y,children:a};return u?s.a.createElement(h,Object(g.a)({},D,I)):s.a.createElement(h,Object(g.a)({},D,{style:b,className:j}),m?a:s.a.createElement("div",I))};j.propTypes=N,j.defaultProps={tag:"div",value:0,min:0,max:100,style:{},barStyle:{}};var I=j,x=t(471),k=t(498),C=t.n(k),P=t(48),A=t(447),F=t(448),L=t(500),_=t(467),U=t(22),T=t(479),R=(t(474),t(475),t(420)),z=t(228),V=t(422),B=t(393),W=t(104),J=t.n(W),q=t(424),G=t(19),H=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={isLoading:e.props.isLoading,relation:"Son",relation1:"Son",email:"",address:"",contact1:"",contact2:"",id:"",name:"",category:"Audio",order_status:"pending",price:"",img:"",popularity:{popValue:""}},e.addNew=!1,e.handleSubmit=function(a){null!==e.props.data?(a._id=e.props.data._id,a.usage=e.props.data.usage,e.props.updateData(a)):(e.addNew=!0,e.props.addData(a))},e.nullData=function(){e.setState({name:"",relation:"",relation1:"",email:"",address:"",contact1:"",contact2:""})},e}return Object(r.a)(t,[{key:"componentDidUpdate",value:function(e,a){console.log("aaaaaaaaaaaaaaaaa",this.props.isLoading),null!==this.props.data&&null===e.data&&(this.props.data.id!==a.id&&this.setState({id:this.props.data.id}),this.props.data.name!==a.name&&this.setState({name:this.props.data.name}),this.props.data.relation!==a.relation&&this.setState({relation:this.props.data.relation}),this.props.data.relation!==a.relation1&&this.setState({relation1:this.props.data.relation}),this.props.data.address!==a.address&&this.setState({address:this.props.data.address}),this.props.data.email!==a.email&&this.setState({email:this.props.data.email}),console.log("hhhhhhhhhhhhhhhhhhhhh",this.props.data,a),this.props.data.primaryContact!==a.contact1&&this.setState({contact1:this.props.data.primaryContact}),this.props.data.secondaryContact!==a.contact2&&this.setState({contact2:this.props.data.secondaryContact}),this.props.data.order_status!==a.order_status&&this.setState({order_status:this.props.data.order_status}),this.props.data.price!==a.price&&this.setState({price:this.props.data.price}),this.props.data.img!==a.img&&this.setState({img:this.props.data.img})),null===this.props.data&&null!==e.data&&this.setState({id:"",name:"",relation:"",relation1:"",email:"",address:"",contact1:"",contact2:"",category:"Son",order_status:"pending",price:"",img:"",popularity:{popValue:""}}),this.addNew&&this.setState({id:"",name:"",relation:"",relation1:"",email:"",address:"",contact1:"",contact2:"",category:"Son",order_status:"pending",price:"",img:"",popularity:{popValue:""}}),this.addNew=!1}},{key:"render",value:function(){var e=this,a=this.props,t=a.show,n=a.handleSidebar,r=a.data,l=this.state,o=l.name,i=l.relation,c=l.img;return s.a.createElement("div",{className:w()("data-list-sidebar",{show:t})},s.a.createElement("div",{className:"data-list-sidebar-header mt-2 px-2 d-flex justify-content-between"},s.a.createElement("h4",null,null!==r?"UPDATE SPEND DETAILS":"ADD NEW SPEND"),s.a.createElement(B.a,{size:20,onClick:function(){n(!1,!0),e.nullData()}})),s.a.createElement(J.a,{className:"data-list-fields px-2 pt-2",options:{wheelPropagation:!1}},this.props.thumbView&&c.length?s.a.createElement(R.a,{className:"text-center"},s.a.createElement("img",{className:"img-fluid",src:c,alt:o}),s.a.createElement("div",{className:"d-flex flex-wrap justify-content-between mt-2"},s.a.createElement("label",{className:"btn btn-flat-primary",htmlFor:"update-image",color:"primary"},"Upload Image",s.a.createElement("input",{type:"file",id:"update-image",hidden:!0,onChange:function(a){return e.setState({img:URL.createObjectURL(a.target.files[0])})}})),s.a.createElement(z.a,{color:"flat-danger",onClick:function(){return e.setState({img:""})}},"Remove Image"))):null,s.a.createElement(R.a,{className:"form-label-group"},s.a.createElement(m.a,{className:"input-label",type:"text",value:o,placeholder:"Item",onChange:function(a){return e.setState({name:a.target.value})},id:"data-name"}),s.a.createElement(V.a,{className:"dark"===G.a.theme?"dark-label":"light-label",for:"data-name"},"Item")),s.a.createElement(R.a,null,s.a.createElement(m.a,{type:"select",id:"data-category",value:i,onChange:function(a){return e.setState({relation:a.target.value})}},s.a.createElement("option",null,"Cigretes"),s.a.createElement("option",null,"Drink"),s.a.createElement("option",null,"Fees"),s.a.createElement("option",null,"Fuel"),s.a.createElement("option",null,"Groceries"),s.a.createElement("option",null,"Party"),s.a.createElement("option",null,"Rent"),s.a.createElement("option",null,"Snacks"),s.a.createElement("option",null,"Travel"),s.a.createElement("option",null,"others")),s.a.createElement(V.a,{className:"dark"===G.a.theme?"dark-label select-label":"light-label select-label",for:"data-category"},"Label *")),"others"===i&&s.a.createElement(R.a,null,s.a.createElement(m.a,{className:"input-label",type:"text",placeholder:"Label Name",onChange:function(a){return e.setState({relation1:a.target.value})},id:"data-name"})),s.a.createElement(R.a,{className:"form-label-group"},s.a.createElement(m.a,{className:"input-label",type:"date",value:this.state.email,placeholder:"Enter nominee email",onChange:function(a){return e.setState({email:a.target.value})},id:"data-name"}),s.a.createElement(V.a,{className:"dark"===G.a.theme?"dark-label":"light-label",for:"data-name"},"Date *")),s.a.createElement(R.a,{className:"form-label-group"},s.a.createElement(m.a,{className:"input-label",type:"number",value:this.state.contact1,onChange:function(a){return e.setState({contact1:a.target.value})},id:"data-price",placeholder:"Enter spend amount"}),s.a.createElement(V.a,{for:"data-price",className:"dark"===G.a.theme?"dark-label":"light-label"},"Amount *")),s.a.createElement(R.a,{className:"form-label-group"},s.a.createElement(m.a,{className:"input-label ",style:{height:"115px"},type:"textarea",value:this.state.address,placeholder:"Description",onChange:function(a){return e.setState({address:a.target.value})},id:"data-name"}),s.a.createElement(V.a,{className:"dark"===G.a.theme?"dark-label":"light-label",for:"data-name"},"Description *")),this.props.thumbView&&c.length<=0?s.a.createElement("label",{className:"btn btn-primary",htmlFor:"upload-image",color:"primary"},"Upload Image",s.a.createElement("input",{type:"file",id:"upload-image",hidden:!0,onChange:function(a){return e.setState({img:URL.createObjectURL(a.target.files[0])})}})):null),s.a.createElement("div",{className:"data-list-sidebar-footer px-2 d-flex justify-content-start align-items-center mt-1"},s.a.createElement(z.a.Ripple,{className:"button-label",color:"secondary",outline:!0,onClick:function(){n(!1,!0),e.nullData()}},"Cancel"),s.a.createElement(z.a.Ripple,{color:"warning",type:"reset",className:"button-label",onClick:function(){return e.handleSubmit(e.state)}},this.props.isLoading&&s.a.createElement(q.a,{color:"danger",size:"sm"})," ",null!==r?this.props.isLoading?"Updating...":"Update":this.props.isLoading?"Adding...":"Add")))}}]),t}(i.Component),M=t(31),Y=t.n(M),$=t(539);t(541),t(480);Y.a.defaults.baseURL="https://lastarzi2.herokuapp.com";var K={"on hold":"warning",delivered:"success",pending:"primary",canceled:"danger"},Q={rows:{selectedHighlighStyle:{backgroundColor:"rgba(115,103,240,.05)",color:"#7367F0 !important",boxShadow:"0 0 1px 0 #7367F0 !important","&:hover":{transform:"translateY(0px) !important"}}}},X=function(e){return s.a.createElement("div",{className:"data-list-action"},window.screen.width>600?s.a.createElement(A.a,{className:"cursor-pointer mr-1",size:window.screen.width<600?13:20,onClick:function(){return e.currentData(e.row)}}):s.a.createElement(F.a,{className:"cursor-pointer mr-1",size:window.screen.width<600?13:20,onClick:function(){return e.currentData(e.row)}}))},Z=function(e){return s.a.createElement("div",{className:"data-list-action"},s.a.createElement(L.a,{className:"cursor-pointer",size:window.screen.width<600?13:20,onClick:function(){e.deleteRow(e.row)}}))},ee=function(e){return s.a.createElement("div",{className:"data-list-action"},s.a.createElement(A.a,{className:"cursor-pointer mr-1",size:window.screen.width<600?13:20,onClick:function(){return e.currentData(e.row)}}),window.screen.width>600&&s.a.createElement(L.a,{className:"cursor-pointer",size:window.screen.width<600?13:20,onClick:function(){e.deleteRow(e.row)}}))},ae=function(e){return s.a.createElement("div",{className:"data-list-header d-flex justify-content-between"},s.a.createElement("div",{className:"actions-left d-flex"},s.a.createElement(u.a,{color:"white",className:"sort-dropdown mx-50",style:{height:"75%",backgroundColor:"var(--warning)",fontWeight:"bold"},outline:!0,onClick:function(){return e.handleSidebar(!0,!0)}},s.a.createElement("span",{className:"align-middle"},"Add"))),s.a.createElement("div",{className:"actions-right d-flex"},s.a.createElement("div",{className:"filter-section"},s.a.createElement(m.a,{type:"text",style:{height:"75%",borderRadius:"5rem",fontSize:"1rem"},onChange:function(a){return e.handleFilter(a)},placeholder:"Find",className:"placeholder"}))),s.a.createElement("div",{className:"actions-right d-none"},s.a.createElement(h.a,{className:"data-list-rows-dropdown d-md-block d-none"},s.a.createElement(u.a,{color:"",className:"sort-dropdown",style:{height:"75%"}},s.a.createElement("span",{className:"align-middle mx-50"},"Count : ",e.total)))))},te=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={data:[],totalPages:0,currentPage:0,columns:[{name:"Edit",sortable:!0,cell:function(a){return s.a.createElement(X,{row:a,getSpendData:e.props.getSpendData,parsedFilter:e.props.parsedFilter,currentData:e.handleCurrentData})}},{name:"Item",selector:"item",sortable:!0,minWidth:"200px",cell:function(e){return s.a.createElement("p",{title:e.item,className:"text-truncate text-bold-500 mb-0"},e.item)}},{name:"Description",selector:"desc",minWidth:"150px",sortable:!0},{name:"Label",selector:"label",sortable:!0},{name:"Date",minWidth:"200px",selector:"date",sortable:!0},{name:"Amount",selector:"amount",minWidth:"150px",sortable:!0},{name:"Delete",sortable:!0,cell:function(a){return s.a.createElement(Z,{row:a,getSpendData:e.props.getSpendData,parsedFilter:e.props.parsedFilter,deleteRow:e.handleDelete})}}],mobilecolumns:[{name:"Info",sortable:!0,width:"50px",cell:function(a){return s.a.createElement(X,{row:a,getData:e.props.getSpendData,parsedFilter:e.props.parsedFilter,currentData:e.handleCurrentData})}},{name:"Item",selector:"item",sortable:!0,minWidth:"50px",cell:function(e){return s.a.createElement("p",{style:{fontSize:"10px"},title:e.item,className:"text-truncate text-bold-500 mb-0"},e.item)}},{name:"Amount",selector:"amount",maxWidth:"50px",sortable:!0,cell:function(e){return s.a.createElement("p",{style:{fontSize:"10px"},title:e.amount,className:"text-truncate text-bold-500 mb-0"},e.amount)}},{name:"Trash",sortable:!0,width:"50px",cell:function(a){return s.a.createElement(Z,{row:a,getSpendData:e.props.getSpendData,parsedFilter:e.props.parsedFilter,deleteRow:e.handleDelete})}}],allData:[],value:"",rowsPerPage:4,sidebar:!1,currentData:null,selected:[],totalRecords:0,sortIndex:[],addNew:"",isLoading:!1},e.thumbView=e.props.thumbView,e.handleFilter=function(a){e.setState({value:a.target.value}),e.props.filterData(a.target.value)},e.handleRowsPerPage=function(a){var t=e.props,n=t.parsedFilter,r=t.getSpendData,l=void 0!==n.page?n.page:1;P.a.push("/nominee/list?page=".concat(l,"&perPage=").concat(a)),e.setState({rowsPerPage:a}),r({page:n.page,perPage:a})},e.handleSidebar=function(a){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.setState({sidebar:a}),!0===t&&e.setState({currentData:null,addNew:!0})},e.handleDelete=function(a){if(e.props.deleteData(a),e.props.getSpendData(e.props.parsedFilter),e.state.data.length-1===0){var t=e.props.thumbView?"/data-list/thumb-view/":"/#/nominee/list/";P.a.push("".concat(t,"list-view?page=").concat(parseInt(e.props.parsedFilter.page-1),"&perPage=").concat(e.props.parsedFilter.perPage)),e.props.getSpendData({page:e.props.parsedFilter.page-1,perPage:e.props.parsedFilter.perPage})}},e.addData=function(a){if(""===a.name||""===a.relation1||""===a.email||""===a.contact1||""===a.address)x.b.error("Please Fill All Mandatory Details");else{e.setState({isLoading:!0}),console.log("aaquib",a);var t={userId:(localStorage.getItem("logInUserData")?JSON.parse(localStorage.getItem("logInUserData")):{})._id,item:Object(p.b)(a.name),label:Object(p.b)(a.relation1),date:a.email,amount:Object(p.b)(a.contact1),desc:Object(p.b)(a.address)};Y.a.post("/backendapi/spend/add",t,{headers:{Authorization:"Bearer "+localStorage.getItem("authtoken")}}).then((function(a){e.setState({isLoading:!1}),x.b.success("Spend Added Successfully"),e.handleSidebar(!1,!0),e.props.getSpendData(e.props.parsedFilter)})).catch((function(a){e.setState({isLoading:!1}),x.b.error("Add Spend Failed! Please contact admin")})),console.log("aaquib",t)}},e.updateData=function(a){if(""===a.name||""===a.relation1||""===a.email||""===a.contact1||""===a.address)x.b.error("Please Fill All Mandatory Details");else{e.setState({isLoading:!0}),console.log("aaquib",a);var t=localStorage.getItem("logInUserData")?JSON.parse(localStorage.getItem("logInUserData")):{},n={_id:a._id,userId:t._id,item:Object(p.b)(a.name),label:Object(p.b)(a.relation1),date:a.email,amount:Object(p.b)(a.contact1),desc:Object(p.b)(a.address)};Y.a.post("/backendapi/spend/update",n,{headers:{Authorization:"Bearer "+localStorage.getItem("authtoken")}}).then((function(a){e.setState({isLoading:!1}),x.b.success("Spend Updated Successfully"),e.handleSidebar(!1,!0),e.props.getSpendData(e.props.parsedFilter)})).catch((function(a){e.setState({isLoading:!1}),x.b.error("Add Nominee Failed! Please contact admin")})),console.log("aaquib",n)}},e.handleCurrentData=function(a){a.name=a.item,a.relation1=a.label,a.relation=a.label,a.email=a.date,a.address=a.desc,a.primaryContact=a.amount,e.setState({currentData:a}),e.handleSidebar(!0)},e.handlePagination=function(a){var t=e.props,n=t.parsedFilter,r=t.getSpendData,l=void 0!==n.perPage?n.perPage:4,o=(e.props.thumbView,"/#/nominee/list/");P.a.push("".concat(o,"list-view?page=").concat(a.selected+1,"&perPage=").concat(l)),r({page:a.selected+1,perPage:l}),e.setState({currentPage:a.selected})},e}return Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.getSpendData(this.props.parsedFilter),this.props.getSpendInitialData()}},{key:"componentDidUpdate",value:function(e,a){var t=this;if(this.thumbView){this.thumbView=!1;var n=[{name:"Image",selector:"img",minWidth:"220px",cell:function(e){return s.a.createElement("img",{src:e.img,height:"100",alt:e.name})}},{name:"Name",selector:"name",sortable:!0,minWidth:"250px",cell:function(e){return s.a.createElement("p",{title:e.name,className:"text-truncate text-bold-500 mb-0"},e.name)}},{name:"Category",selector:"category",sortable:!0},{name:"Popularity",selector:"popularity",sortable:!0,cell:function(e){return s.a.createElement(I,{className:"w-100 mb-0",color:e.popularity.color,value:e.popularity.popValue})}},{name:"Order Status",selector:"order_status",sortable:!0,cell:function(e){return s.a.createElement($.a,{className:"m-0",color:K[e.order_status],text:e.order_status})}},{name:"Price",selector:"price",sortable:!0,cell:function(e){return"$".concat(e.price)}},{name:"Actions",sortable:!0,cell:function(e){return s.a.createElement(ee,{row:e,getSpendData:t.props.getSpendData,parsedFilter:t.props.parsedFilter,currentData:t.handleCurrentData,deleteRow:t.handleDelete})}}];this.setState({columns:n})}}},{key:"render",value:function(){var e=this,a=this.state,t=a.columns,n=a.data,r=a.allData,l=a.value,o=a.rowsPerPage,i=a.currentData,c=a.sidebar,d=a.totalRecords,p=a.sortIndex;return s.a.createElement("div",{className:"data-list ".concat(this.props.thumbView?"thumb-view":"list-view")},s.a.createElement(C.a,{width:"200",columns:window.screen.width<600?this.state.mobilecolumns:t,data:l.length?r:n,noHeader:!0,subHeader:!0,selectableRows:(window.screen.width,!1),responsive:!0,pointerOnHover:!0,selectableRowsHighlight:!0,onSelectedRowsChange:function(a){return e.setState({selected:a.selectedRows})},customStyles:Q,subHeaderComponent:s.a.createElement(ae,{handleSidebar:this.handleSidebar,handleFilter:this.handleFilter,handleRowsPerPage:this.handleRowsPerPage,rowsPerPage:o,total:d,index:p}),sortIcon:s.a.createElement(_.a,null)}),s.a.createElement(H,{show:c,data:i,updateData:this.updateData,addData:this.addData,isLoading:this.state.isLoading,handleSidebar:this.handleSidebar,thumbView:this.props.thumbView,getSpendData:this.props.getSpendData,dataParams:this.props.parsedFilter,addNew:this.state.addNew}),s.a.createElement("div",{className:w()("data-list-overlay",{show:c}),onClick:function(){return e.handleSidebar(!1,!0)}}))}}],[{key:"getDerivedStateFromProps",value:function(e,a){var t,n,r,l,o;return(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.length)!==a.data.length||(null===a||void 0===a?void 0:a.currentPage)!==(null===e||void 0===e||null===(n=e.parsedFilter)||void 0===n?void 0:n.page)?{data:null===e||void 0===e?void 0:e.data,allData:e.dataList.filteredData,totalPages:(null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.length)/5,currentPage:parseInt(null===(l=e.parsedFilter)||void 0===l?void 0:l.page)-1,rowsPerPage:parseInt(null===(o=e.parsedFilter)||void 0===o?void 0:o.perPage),totalRecords:e.dataList.totalRecords,sortIndex:e.dataList.sortIndex}:null}}]),t}(i.Component),ne=Object(U.b)((function(e){var a=e.dataList.data;return a.map((function(e){var a,t=null===e||void 0===e||null===(a=e.date)||void 0===a?void 0:a.split("T");return e.date=null===t||void 0===t?void 0:t[0],e})),console.log("state.data.diary",a),{dataList:e.dataList,data:a}}),{getSpendData:T.e,deleteData:T.b,updateData:T.g,addData:T.a,getSpendInitialData:T.f,filterData:T.c})(te),re=t(580),le=t.n(re),oe=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){return Object(n.a)(this,t),a.apply(this,arguments)}return Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("h2",{className:"warning spacing nodisplay"},"Daily Spends"),s.a.createElement(c.a,null,s.a.createElement(x.a,null),s.a.createElement(d.a,{sm:"12"},s.a.createElement(ne,{parsedFilter:le.a.parse(this.props.location.search)}))))}}]),t}(s.a.Component);a.default=oe}}]);
//# sourceMappingURL=23.6182884e.chunk.js.map