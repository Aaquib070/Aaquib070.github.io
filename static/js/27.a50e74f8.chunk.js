(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[27],{474:function(e,a,t){},626:function(e,a,t){},668:function(e,a,t){"use strict";t.r(a);var n=t(7),l=t(0),o=t.n(l),r=t(624),c=t(146),s=t(230),i=t(652),d=t(653),m=t(104),u=t.n(m),p=t(393),b=t(435),f=t(654),h=t(655),E=t(423),g=t(518),k=t(18),v=t(36),N=t.n(v),T=t(55),S=t(28),y=t.n(S),C=t(47),O=t(471);y.a.defaults.baseURL="https://lastarzi2.herokuapp.com";var j=function(e){if(JSON.parse(localStorage.getItem("logInUserData"))){var a=localStorage.getItem("logInUserData")?JSON.parse(localStorage.getItem("logInUserData")):{};return function(){var t=Object(T.a)(N.a.mark((function t(n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.get("backendapi/diary/list?user=".concat(a._id),{params:e,headers:{Authorization:"Bearer "+localStorage.getItem("authtoken")}}).then((function(a){n({type:"GET_TODOS",todos:a.data,routeParams:e})})).catch((function(e){return console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},U=function(e){return function(a){a({type:"COMPLETE_TASK",id:e.id,value:e.isCompleted})}},x=function(e){return function(a){Promise.all([a({type:"STAR_TASK",id:e.id,value:e.isStarred})])}},w=function(e){return function(a){Promise.all([a({type:"IMPORTANT_TASK",id:e.id,value:e.isImportant})])}},P=Object(k.b)(null,{changeFilter:function(e){return function(a){a({type:"CHANGE_FILTER",filter:e}),C.a.push("/#/diary/".concat(e)),a(j({filter:e}))}}})((function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"sidebar-close-icon",onClick:function(){return e.mainSidebar(!1)}},o.a.createElement(p.a,{size:15})),o.a.createElement("div",{className:"todo-app-menu"},o.a.createElement("div",{className:"add-task"},o.a.createElement(s.a.Ripple,{block:!0,className:"btn-block",color:"warning",onClick:function(){e.addTask("open"),e.mainSidebar(!1)}},"Add Notes")),o.a.createElement(u.a,{className:"sidebar-menu-list",options:{wheelPropagation:!1}},o.a.createElement(i.a,{className:"font-medium-1"},o.a.createElement(d.a,{className:"border-0 pt-0",action:!0,onClick:function(){e.changeFilter("all")},active:"/diary"===e.routerProps.location.pathname},o.a.createElement(b.a,{size:22}),o.a.createElement("span",{className:"align-middle ml-1"},"All"))),o.a.createElement("hr",null),o.a.createElement("h5",{className:"mt-2 mb-1 pt-25"},"Filters"),o.a.createElement(i.a,{className:"font-medium-1"},o.a.createElement(d.a,{className:"border-0",onClick:function(){e.changeFilter("important")},active:"/diary/important"===e.routerProps.location.pathname},o.a.createElement(f.a,{size:22}),o.a.createElement("span",{className:"align-middle ml-1"},"Important")),o.a.createElement(d.a,{className:"border-0",onClick:function(){e.changeFilter("starred")},active:"/diary/starred"===e.routerProps.location.pathname},o.a.createElement(h.a,{size:22}),o.a.createElement("span",{className:"align-middle ml-1"},"Bookmark")),o.a.createElement(d.a,{className:"border-0",onClick:function(){e.changeFilter("completed")},active:"/diary/completed"===e.routerProps.location.pathname},o.a.createElement(E.a,{size:22}),o.a.createElement("span",{className:"align-middle ml-1"},"Completed")),o.a.createElement(d.a,{className:"border-0",onClick:function(){e.changeFilter("trashed")},active:"/diary/trashed"===e.routerProps.location.pathname},o.a.createElement(g.a,{size:22}),o.a.createElement("span",{className:"align-middle ml-1"},"Trashed"))),o.a.createElement("hr",null),o.a.createElement("h5",{className:"mt-2 mb-1 pt-25"},"Labels"),o.a.createElement(i.a,{className:"font-medium-1"},o.a.createElement(d.a,{className:"border-0",onClick:function(){e.changeFilter("personal")},active:"/diary/personal"===e.routerProps.location.pathname},o.a.createElement("span",{className:"bullet bullet-primary align-middle"}),o.a.createElement("span",{className:"align-middle ml-1"},"Personal")),o.a.createElement(d.a,{className:"border-0",onClick:function(){e.changeFilter("professional")},active:"/diary/professional"===e.routerProps.location.pathname},o.a.createElement("span",{className:"bullet bullet-warning align-middle"}),o.a.createElement("span",{className:"align-middle ml-1"},"Professional")),o.a.createElement(d.a,{className:"border-0",onClick:function(){e.changeFilter("others")},active:"/diary/others"===e.routerProps.location.pathname},o.a.createElement("span",{className:"bullet bullet-success align-middle"}),o.a.createElement("span",{className:"align-middle ml-1"},"Others")),o.a.createElement(d.a,{className:"border-0",onClick:function(){e.changeFilter("todo")},active:"/diary/todo"===e.routerProps.location.pathname},o.a.createElement("span",{className:"bullet bullet-danger align-middle"}),o.a.createElement("span",{className:"align-middle ml-1"},"TO DO List"))))))})),A=t(469),z=t(426),I=t(650),D=t(483),F=t(418),R=t(420),L=t(421),_=t(430),B=t(459),K=Object(k.b)((function(e){return{app:e.todoApp}}),{getTodos:j,completeTask:U,starTask:x,importantTask:w,trashTask:function(e){return function(a,t){var n=t().todoApp.todo.routeParam;y.a.post("/api/app/todo/trash-todo",e,{headers:{Authorization:"Bearer "+localStorage.getItem("authtoken")}}).then((function(t){return a({type:"TRASH_TASK",id:e})})).then(a(j(n)))}},searchTask:function(e){return function(a){a({type:"SEARCH_TASK",val:e})}}})((function(e){var a,t=Object(l.useState)(!1),r=Object(n.a)(t,2),c=r[0],i=r[1],d=Object(l.useState)(null),m=Object(n.a)(d,2),p=m[0],b=m[1],E=Object(l.useState)([]),k=Object(n.a)(E,2),v=k[0],S=k[1],y=Object(l.useState)(""),C=Object(n.a)(y,2),O=C[0],j=C[1],U=(null===e||void 0===e||null===(a=e.routerProps)||void 0===a?void 0:a.location).pathname;Object(l.useEffect)((function(){e.app.todo.todos&&S(e.app.todo.todos)}),[e.app.todo]),Object(l.useEffect)((function(){x()}),[]);var x=function(){var a=Object(T.a)(N.a.mark((function a(){var t,n;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(U){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,e.getTodos(U);case 4:S(null===e||void 0===e||null===(t=e.app)||void 0===t||null===(n=t.todo)||void 0===n?void 0:n.todos);case 5:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),w=e.routerProps.match.params.filter,P=O.length?e.app.todo.filteredTodos:v;if(void 0===P)return o.a.createElement("div",{className:"fallback-spinner vh-100"},o.a.createElement("div",{className:"loading"},o.a.createElement("div",{className:"effect-1 effects"}),o.a.createElement("div",{className:"effect-2 effects"}),o.a.createElement("div",{className:"effect-3 effects"})));var K=P.length>0?P.map((function(a,t){var n={weekday:"long",year:"numeric",month:"long",day:"numeric"},l=new Date(a.createdAt);return o.a.createElement("li",{style:{border:"none",padding:"0",margin:"0 1.6rem"},className:"todo-item ".concat(a.isCompleted?"completed":""),key:t,onClick:function(){e.handleUpdateTask(a)}},o.a.createElement(A.a,{isOpen:c,className:"modal-dialog-centered",backdrop:"static"},o.a.createElement(z.a,null,"Are you sure you want to delete this record?"),o.a.createElement(I.a,null,o.a.createElement(s.a,{color:"primary",className:"button-label",onClick:function(){i(!1)}},"Cancel"),o.a.createElement(s.a,{color:"danger",onClick:function(){i(!1),e.trashTask(p)},className:"button-label"},"Delete"))),o.a.createElement(D.a,{className:"mt-1 mb-0",style:{minHeight:"110px"}},o.a.createElement(F.a,{className:"p-0 d-flex"},o.a.createElement("div",{id:"left-content",className:"w-100 p-1"},window.screen.width<=500?o.a.createElement("div",{id:"top-content",className:"d-block"},o.a.createElement("i",{className:"m-0",style:{fontSize:"1.15rem",fontWeight:"bold"}},a.title),o.a.createElement("p",{style:{fontSize:"1rem"}},l.toLocaleDateString("en-US",n))):o.a.createElement("div",{id:"top-content",className:"d-flex"},o.a.createElement("p",{style:{fontSize:"1rem"}},l.toLocaleDateString("en-US",n),"\xa0","-"),o.a.createElement("p",{style:{fontSize:"1.15rem",fontWeight:"bold"}},"\xa0",a.title)),o.a.createElement("div",{id:"bottom-content"},a.desc.length>0?o.a.createElement("p",{className:"todo-desc mb-0",style:{wordBreak:"break-all",whiteSpace:"normal",fontSize:"1.15rem"}},a.desc):"")),o.a.createElement("div",{id:"options"},o.a.createElement("div",{style:{maxHeight:"110px"},className:"d-flex flex-column justify-content-between"},o.a.createElement("div",{style:{padding:"0.5rem",backgroundColor:a.isImportant?"var(--danger)":"",borderTopRightRadius:"0.5rem"},onClick:function(t){t.stopPropagation(),e.importantTask(a)}},o.a.createElement(f.a,{size:23,color:"".concat(a.isImportant?"white":"currentColor")})),o.a.createElement("div",{style:{padding:"0.5rem",backgroundColor:a.isStarred?"var(--warning)":""},onClick:function(t){t.stopPropagation(),e.starTask(a)}},o.a.createElement(h.a,{size:23,color:"".concat(a.isStarred?"white":"currentColor")})),"trashed"!==w?o.a.createElement("div",{style:{padding:"0.5rem"}},o.a.createElement(g.a,{size:23,onClick:function(e){e.stopPropagation(),b(a.id),i(!0)}})):null)))))})):o.a.createElement("p",{className:"p-1 text-center mt-2 font-medium-3 text-bold-500"},"No tasks at this time");return o.a.createElement("div",{className:"content-right h-100"},o.a.createElement("div",{className:"todo-app-area h-100"},o.a.createElement("div",{className:"todo-app-list-wrapper h-100"},o.a.createElement("div",{className:"todo-app-list h-100"},o.a.createElement("div",{className:"app-fixed-search"},o.a.createElement("div",{className:"sidebar-toggle d-inline-block d-lg-none",onClick:function(){return e.mainSidebar(!0)}},o.a.createElement(_.a,{size:24})),o.a.createElement(R.a,{style:{display:"flex",margin:"auto",justifyContent:"center"},className:"position-relative has-icon-left"},o.a.createElement("div",{style:{borderRadius:"1.428rem"}},o.a.createElement("div",{className:"form-control-position"},o.a.createElement(B.a,{size:15})),o.a.createElement(L.a,{style:{width:"100%"},type:"text",placeholder:"Search...",onChange:function(a){return function(a){j(a.target.value),e.searchTask(a.target.value)}(a)},value:O})))),o.a.createElement(u.a,{className:"todo-task-list",options:{wheelPropagation:!1}},o.a.createElement("ul",{className:"todo-task-list-wrapper"},K))))))})),V=t(4),H=t(417),J=t(470),M=t(468),G=t(407),W=t(485),q=t(656),Q=t(144),X=t(547),Y=t.n(X),Z=t(570),$=(t(576),[{value:"Attachment",label:"Attachment",color:"#00B8D9",isFixed:!0},{value:"Scribble",label:"Scribble",color:"#00B8D9",isFixed:!0},{value:"Text",label:"Text",color:"#00B8D9",isFixed:!0},{value:"Video",label:"Video",color:"#0052CC",isFixed:!0},{value:"Voice",label:"Voice",color:"#0052CC",isFixed:!0}]),ee=Object(k.b)((function(e){return{app:e.todoApp}}),{completeTask:U,importantTask:w,starTask:x,updateTask:function(e,a,t,n,l,o,r,c){var s={_id:e,title:a,desc:t,taskToUpdate:n,isCompleted:l,isImportant:o,isStarred:r,tags:c},i=y.a.post("/backendapi/diary/update",s,{headers:{Authorization:"Bearer "+localStorage.getItem("authtoken")}});return function(e,a){var t=a().todoApp.todo.routeParam;i.then((function(a){Promise.all([e({type:"UPDATE_TASK",ans:s})]).then((function(){return e(j(t))}))}))}},updateLabel:function(e,a){return function(t,n){t({type:"UPDATE_LABEL",label:a,id:e})}},addNewTask:function(e){return function(a,t){var n=t().todoApp.todo.routeParam,l=JSON.parse(localStorage.getItem("logInUserData"))._id;e.user=l,y.a.post("/backendapi/diary/add",e,{headers:{Authorization:"Bearer "+localStorage.getItem("authtoken")}}).then((function(t){a({type:"ADD_TASK",task:e}),a(j(n)),O.b.success("Note Added Successfully!!")}))}}})((function(e){var a=Object(l.useState)({url:null,blob:null,chunks:null,duration:{h:0,m:0,s:0}}),t=Object(n.a)(a,2),r=t[0],c=t[1],i=Object(l.useState)({title:"",desc:"",tags:[],isCompleted:!1,isImportant:!1,isStarred:!1}),d=Object(n.a)(i,2),m=d[0],b=d[1],g=Object(l.useState)(""),k=Object(n.a)(g,2),v=k[0],N=k[1],T=Object(l.useState)(null),S=Object(n.a)(T,2),y=S[0],C=S[1],O=Object(l.useState)(""),j=Object(n.a)(O,2),U=j[0],x=j[1],w=Object(l.useState)(""),P=Object(n.a)(w,2),A=P[0],z=P[1],I=Object(l.useState)(!1),D=Object(n.a)(I,2),F=D[0],_=D[1],B=Object(l.useState)(!1),K=Object(n.a)(B,2),X=K[0],ee=K[1],ae=Object(l.useState)(!1),te=Object(n.a)(ae,2),ne=te[0],le=te[1],oe=Object(l.useState)(!1),re=Object(n.a)(oe,2),ce=re[0],se=re[1],ie=o.a.createRef();Object(l.useEffect)((function(){if(e.taskToUpdate){var a=e.taskToUpdate,t=a.title,n=a.id,l=a.desc,o=a.isCompleted,r=a.isStarred,c=a.isImportant;C(e.taskToUpdate),null!==n&&le(!0),x(t),z(l),_(o),ee(r),se(c)}}),[e.taskToUpdate]);var de=function(e){var a=m.tags;a.includes(e)?a.splice(a.indexOf(e),1):a.push(e),b(Object(V.a)(Object(V.a)({},m),{},{tags:e}))};return o.a.createElement("div",{className:"task-sidebar ".concat(!0===e.addTaskState?"show":"")},o.a.createElement("div",{className:"task-header"},o.a.createElement("div",{className:"d-flex justify-content-between"},o.a.createElement("div",{className:"task-type-title text-bold-600"},o.a.createElement("h3",{style:{color:"var(--warning)"}},e.taskToUpdate&&e.taskToUpdate.id?"Update Details":"Enter Details")),o.a.createElement("div",{className:"close-icon"},o.a.createElement(p.a,{className:"cursor-pointer",size:20,onClick:function(){e.addTask("close")}})))),o.a.createElement(u.a,null,o.a.createElement("div",{className:"task-body"},o.a.createElement("div",{className:"d-flex justify-content-between mb-2"},o.a.createElement("div",{className:"mark-complete"},e.taskToUpdate&&e.taskToUpdate.id&&o.a.createElement(Q.a,{color:"primary",className:"user-checkbox",icon:o.a.createElement(E.a,{className:"vx-icon",size:15}),label:"",checked:F,onChange:function(a){e.completeTask(e.taskToUpdate)}})),o.a.createElement("div",{className:"task-actions"},o.a.createElement(f.a,{size:20,className:"mr-50 ".concat(null!==e.taskToUpdate&&ce||m.isImportant?"text-success":""),onClick:function(){null!==e.taskToUpdate?e.importantTask(e.taskToUpdate):b(Object(V.a)(Object(V.a)({},m),{},{isImportant:!m.isImportant}))}}),o.a.createElement(h.a,{size:20,className:"mr-50 ".concat(null!==e.taskToUpdate&&X||m.isStarred?"text-warning":""),onClick:function(){null!==e.taskToUpdate?e.starTask(e.taskToUpdate):b(Object(V.a)(Object(V.a)({},m),{},{isStarred:!m.isStarred}))}}),o.a.createElement(H.a,{className:"d-inline-block"},o.a.createElement(J.a,{tag:"span"},o.a.createElement(q.a,{className:"mr-50",size:20})),o.a.createElement(M.a,{tag:"ul",right:!0},o.a.createElement(G.a,{tag:"li"},o.a.createElement(Q.a,{color:"primary",className:"user-checkbox",icon:o.a.createElement(E.a,{className:"vx-icon",size:12}),label:"Personal",checked:!!(null!==e.taskToUpdate&&e.taskToUpdate.tags.includes("personal")||m.tags.includes("personal")),size:"sm",onChange:function(a){a.stopPropagation(),null!==e.taskToUpdate?e.updateLabel(y.id,"personal"):de("personal")}})),o.a.createElement(G.a,{tag:"li"},o.a.createElement(Q.a,{color:"primary",labelColor:"#ff9f43",className:"user-checkbox",icon:o.a.createElement(E.a,{className:"vx-icon",size:12}),label:"Professional",checked:!!(null!==e.taskToUpdate&&e.taskToUpdate.tags.includes("professional")||m.tags.includes("professional")),size:"sm",onClick:function(e){return e.stopPropagation()},onChange:function(a){a.stopPropagation(),null!==e.taskToUpdate?e.updateLabel(y.id,"professional"):de("professional")}})),o.a.createElement(G.a,{tag:"li"},o.a.createElement(Q.a,{color:"primary",className:"user-checkbox",icon:o.a.createElement(E.a,{className:"vx-icon",size:12}),label:"Others",labelColor:"#25af63",checked:!!(null!==e.taskToUpdate&&e.taskToUpdate.tags.includes("others")||m.tags.includes("others")),size:"sm",onClick:function(e){return e.stopPropagation()},onChange:function(a){a.stopPropagation(),null!==e.taskToUpdate?e.updateLabel(y.id,"others"):de("others")}})),o.a.createElement(G.a,{tag:"li"},o.a.createElement(Q.a,{color:"primary",className:"user-checkbox",labelColor:"#ea5455",icon:o.a.createElement(E.a,{className:"vx-icon",size:12}),label:"TO DO List",checked:!!(null!==e.taskToUpdate&&e.taskToUpdate.tags.includes("todo")||m.tags.includes("todo")),size:"sm",onClick:function(e){return e.stopPropagation()},onChange:function(a){a.stopPropagation(),null!==e.taskToUpdate?e.updateLabel(y.id,"todo"):de("todo")}})))))),o.a.createElement(R.a,{className:"form-label-group"},o.a.createElement(W.a,{className:"React",classNamePrefix:"select",ref:ie,name:"color",options:$,isClearable:!0,placeholder:"Select Message Type...",onChange:function(e){N(e?e.value:"")}})),o.a.createElement(R.a,null,o.a.createElement(L.a,{type:"text",placeholder:"Title",value:null!==e.taskToUpdate?U:m.title,onChange:function(a){null!==e.taskToUpdate?x(a.target.value):b(Object(V.a)(Object(V.a)({},m),{},{title:a.target.value}))}})),o.a.createElement(R.a,null,"Video"===v&&o.a.createElement(Y.a,{onRecordingComplete:function(e){console.log("videoBlob",e)}}),"Voice"===v&&o.a.createElement(Z.a,{record:!0,title:"New recording",audioURL:r.url,showUIAudio:!0,handleAudioStop:function(e){return function(e){c(e)}(e)},handleAudioUpload:function(e){return a=e,void console.log(a);var a},handleRest:function(){c({url:null,blob:null,chunks:null,duration:{h:0,m:0,s:0}})}})),o.a.createElement(R.a,null,o.a.createElement(L.a,{type:"textarea",placeholder:"Description",rows:"5",value:null!==e.taskToUpdate?A:m.desc,onChange:function(a){null!==e.taskToUpdate?z(a.target.value):b(Object(V.a)(Object(V.a)({},m),{},{desc:a.target.value}))}})),o.a.createElement("div",{className:"chip-wrapper my-1 d-flex flex-wrap"},null!==e.taskToUpdate&&e.taskToUpdate.tags&&e.taskToUpdate.tags.length>0?e.taskToUpdate.tags.map((function(e,a){return o.a.createElement("div",{className:"chip mb-0 mr-50",key:a},o.a.createElement("div",{className:"chip-body"},o.a.createElement("span",{className:"chip-text"},o.a.createElement("span",{className:"bullet bullet-".concat("professional"===e?"warning":"others"===e?"success":"todo"===e?"danger":"primary"," bullet-xs")}),o.a.createElement("span",{className:"text-capitalize ml-25"},e))))})):null),o.a.createElement("div",{className:"d-flex justify-content-end",style:{textAlign:"right"}},o.a.createElement(s.a.Ripple,{outline:!0,className:"mr-1 mb-1 button-label",color:"secondary",onClick:function(){e.addTask("close"),e.handleUndoChanges(),b({title:"",desc:"",tags:[],isCompleted:!1,isImportant:!1,isStarred:!1})}},"Cancel")," ",o.a.createElement(s.a.Ripple,{className:"mb-1 button-label",color:"warning",onClick:function(){if(console.log("taskToUpdate",y),null!==e.taskToUpdate){var a=y.isCompleted,t=y.isImportant,n=y.isStarred,l=y.tags;e.updateTask(y._id,U,A,y,a,t,n,l)}else e.addNewTask(m);e.addTask("close"),b({title:"",desc:"",tags:[],isCompleted:!1,isImportant:!1,isStarred:!1})},disabled:!(U.length&&A||m.title&&m.desc)},ne?"Update":"Add")))))})),ae=(t(486),t(474),t(626),window.matchMedia("(min-width: 992px)"));a.default=function(e){var a=Object(l.useState)(!1),t=Object(n.a)(a,2),s=t[0],i=t[1],d=Object(l.useState)(!1),m=Object(n.a)(d,2),u=m[0],p=m[1],b=Object(l.useState)(null),f=Object(n.a)(b,2),h=f[0],E=f[1],g=Object(l.useState)(null),k=Object(n.a)(g,2),v=k[0],N=k[1],T=function(e){p(e)},S=function(e){"open"===e?i(!0):(i(!1),E(null))};return o.a.createElement("div",null,o.a.createElement(O.a,null),o.a.createElement("h2",{className:"warning spacing nodisplay"},"Secret Diary"),o.a.createElement("div",{className:"todo-application position-relative"},o.a.createElement("div",{className:"app-content-overlay ".concat(s||u?"show":""),onClick:function(){S("close"),T(!1)}}),o.a.createElement(c.a.Consumer,null,(function(a){return o.a.createElement(r.a,{sidebar:o.a.createElement(P,{routerProps:e,addTask:S,mainSidebar:T}),docked:ae.matches,open:u,sidebarClassName:"sidebar-content todo-sidebar d-flex",touch:!1,contentClassName:"sidebar-children d-none",pullRight:"rtl"===a.state.direction},'""')})),o.a.createElement(K,{routerProps:e,handleUpdateTask:function(e){void 0!==e?(i(!0),E(e)):E(null)},mainSidebar:T,prevState:v,clearPrevState:function(){N(!1)}}),o.a.createElement(ee,{addTask:S,addTaskState:s,taskToUpdate:h,mainSidebar:T,handleUndoChanges:function(){N(!0)}})))}}}]);
//# sourceMappingURL=27.a50e74f8.chunk.js.map